!function(e){function n(n){for(var i,o,s=n[0],c=n[1],u=n[2],d=0,p=[];d<s.length;d++)o=s[d],r[o]&&p.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(l&&l(n);p.length;)p.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],i=!0,s=1;s<t.length;s++){var c=t[s];0!==r[c]&&(i=!1)}i&&(a.splice(n--,1),e=o(o.s=t[0]))}return e}var i={},r={6:0},a=[];function o(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=i,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)o.d(t,i,function(n){return e[n]}.bind(null,i));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="https://cdn.loom.com/assets/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var l=c;a.push([2214,0]),t()}({1000:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if("cursor"===e&&r.hasOwnProperty(n))return i.map(function(e){return e+n})};var i=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=n.default},1001:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if("string"==typeof n&&!(0,i.default)(n)&&n.indexOf("cross-fade(")>-1)return r.map(function(e){return n.replace(/cross-fade\(/g,e+"cross-fade(")})};var i=function(e){return e&&e.__esModule?e:{default:e}}(t(355));var r=["-webkit-",""];e.exports=n.default},1002:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if("string"==typeof n&&!(0,i.default)(n)&&n.indexOf("filter(")>-1)return r.map(function(e){return n.replace(/filter\(/g,e+"filter(")})};var i=function(e){return e&&e.__esModule?e:{default:e}}(t(355));var r=["-webkit-",""];e.exports=n.default},1003:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if("display"===e&&i.hasOwnProperty(n))return i[n]};var i={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=n.default},1004:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n,t){"flexDirection"===e&&"string"==typeof n&&(n.indexOf("column")>-1?t.WebkitBoxOrient="vertical":t.WebkitBoxOrient="horizontal",n.indexOf("reverse")>-1?t.WebkitBoxDirection="reverse":t.WebkitBoxDirection="normal");r.hasOwnProperty(e)&&(t[r[e]]=i[n]||n)};var i={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"};e.exports=n.default},1005:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if("string"==typeof n&&!(0,i.default)(n)&&a.test(n))return r.map(function(e){return n.replace(a,function(n){return e+n})})};var i=function(e){return e&&e.__esModule?e:{default:e}}(t(355));var r=["-webkit-","-moz-",""],a=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;e.exports=n.default},1006:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if("string"==typeof n&&!(0,i.default)(n)&&n.indexOf("image-set(")>-1)return r.map(function(e){return n.replace(/image-set\(/g,e+"image-set(")})};var i=function(e){return e&&e.__esModule?e:{default:e}}(t(355));var r=["-webkit-",""];e.exports=n.default},1007:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if("position"===e&&"sticky"===n)return["-webkit-sticky","sticky"]},e.exports=n.default},1008:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if(r.hasOwnProperty(e)&&a.hasOwnProperty(n))return i.map(function(e){return e+n})};var i=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=n.default},1009:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n,t,o){if("string"==typeof n&&s.hasOwnProperty(e)){var u=function(e,n){if((0,r.default)(e))return e;for(var t=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),a=0,o=t.length;a<o;++a){var s=t[a],u=[s];for(var l in n){var d=(0,i.default)(l);if(s.indexOf(d)>-1&&"order"!==d)for(var p=n[l],f=0,m=p.length;f<m;++f)u.unshift(s.replace(d,c[p[f]]+d))}t[a]=u.join(",")}return t.join(",")}(n,o),l=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return l;var d=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?d:(t["Webkit"+(0,a.default)(e)]=l,t["Moz"+(0,a.default)(e)]=d,u)}};var i=o(t(1010)),r=o(t(355)),a=o(t(609));function o(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},c={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=n.default},1010:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,i.default)(e)};var i=function(e){return e&&e.__esModule?e:{default:e}}(t(1011));e.exports=n.default},1011:function(e,n,t){"use strict";var i=/[A-Z]/g,r=/^ms-/,a={};e.exports=function(e){return e in a?a[e]:a[e]=e.replace(i,"-$&").toLowerCase().replace(r,"-ms-")}},1012:function(e,n,t){},1013:function(e,n,t){},1014:function(e,n,t){},1015:function(e,n,t){},1016:function(e,n,t){},1017:function(e,n,t){},1018:function(e,n,t){},1019:function(e,n,t){},1020:function(e,n,t){},1021:function(e,n,t){},1022:function(e,n,t){},1023:function(e,n,t){},1024:function(e,n,t){},1025:function(e,n,t){},1026:function(e,n,t){},1027:function(e,n,t){},1028:function(e,n,t){},1029:function(e,n,t){},1030:function(e,n,t){},1031:function(e,n,t){},1032:function(e,n,t){},1033:function(e,n,t){},1034:function(e,n,t){},1035:function(e,n,t){},1036:function(e,n,t){},1037:function(e,n,t){},1038:function(e,n,t){},1039:function(e,n,t){},1040:function(e,n,t){},1041:function(e,n,t){},1042:function(e,n,t){e.exports=t.p+"img/video-player/luna-head-e7402004716fa3eaccfb2ebdd0e8877d.svg"},1043:function(e,n,t){e.exports=t.p+"img/video-player/luna-body-63fa23ddfce161c56a483deef3e40f98.svg"},1044:function(e,n,t){},1045:function(e,n,t){},1046:function(e,n,t){},1047:function(e,n,t){},1048:function(e,n,t){},1049:function(e,n,t){},1050:function(e,n,t){},1051:function(e,n,t){},1052:function(e,n,t){},1053:function(e,n,t){},1054:function(e,n,t){},1055:function(e,n,t){},1056:function(e,n,t){},1057:function(e,n,t){e.exports=t.p+"img/video-player/volume-0-393e9092898279709d6ecd9e5cd230e9.svg"},1058:function(e,n,t){e.exports=t.p+"img/video-player/volume-1-f82c0f5089c00f40d4d7512e1437d128.svg"},1059:function(e,n,t){e.exports=t.p+"img/video-player/volume-2-e39b2792d46b9f9d0d44b65aca4dd161.svg"},1060:function(e,n,t){e.exports=t.p+"img/video-player/pause-61304f06cc9f2529d362d046ed8c207a.svg"},1061:function(e,n,t){e.exports=t.p+"img/video-player/play-white-f66e238462617334c1b110617eb3985b.svg"},1062:function(e,n,t){e.exports=t.p+"img/video-player/step-forward-five-4308d9766aaa5b2c70b73b5ad97ab3aa.svg"},1063:function(e,n,t){e.exports=t.p+"img/video-player/step-back-five-70e76d6228ace9f57578700facecf753.svg"},1064:function(e,n,t){e.exports=t.p+"img/video-player/fullscreen-ff1f930b3bf0f81ef2988a027bb2d251.svg"},1065:function(e,n,t){e.exports=t.p+"img/video-player/big-play-button-play-b73a208ccd932704893aaeadd061f4c8.svg"},1066:function(e,n,t){e.exports=t.p+"img/video-player/replay-7f810fdb6dac6965e5422eb5d4d9db70.svg"},1067:function(e,n,t){},117:function(e,n,t){e.exports=t.p+"img/video-player/down-22df2d1cf2d312b657a09f7d2ac22874.png"},118:function(e,n,t){e.exports=t.p+"img/video-player/down@2x-18bca9fff9e1dd8eaf5cd14f6783c0f1.png"},119:function(e,n,t){e.exports=t.p+"img/video-player/down@3x-eb787bf4efb9c58f603268fa3a816d95.png"},120:function(e,n,t){e.exports=t.p+"img/video-player/gradient-94633672feb8a4f309b7f785722eaad3.png"},121:function(e,n,t){e.exports=t.p+"img/video-player/joy-507651fe2c4509dd88e2e202df8fff2f.png"},122:function(e,n,t){e.exports=t.p+"img/video-player/joy@2x-4b58d890de477a646fa87c853395729b.png"},123:function(e,n,t){e.exports=t.p+"img/video-player/joy@3x-6865e7d725c9c41f78310747512ddc3b.png"},124:function(e,n,t){e.exports=t.p+"img/video-player/love-45ab7c47df0f8a081bcb48d9974a8664.png"},125:function(e,n,t){e.exports=t.p+"img/video-player/love@2x-bc12c727d17071dec2232f6562d57804.png"},126:function(e,n,t){e.exports=t.p+"img/video-player/love@3x-9da0405e3fe646251b4fc9dba44ebdc1.png"},127:function(e,n,t){e.exports=t.p+"img/video-player/nervous-31bd52e6d05062939d7114d9b0578acd.png"},128:function(e,n,t){e.exports=t.p+"img/video-player/nervous@2x-39fb7e97e13ed41425e1b174a73bff62.png"},129:function(e,n,t){e.exports=t.p+"img/video-player/nervous@3x-122c8c7c4c47290d7987c75a27328eaa.png"},130:function(e,n,t){e.exports=t.p+"img/video-player/up-51ae5aeb2e506945cb1635fc4f19ef86.png"},131:function(e,n,t){e.exports=t.p+"img/video-player/up@2x-9eceb438b7d1971ad92b112ab3d10fce.png"},132:function(e,n,t){e.exports=t.p+"img/video-player/up@3x-a693395a37b90cb6b0441285f8f92584.png"},133:function(e,n,t){e.exports=t.p+"img/video-player/wow-a22a49faaea4696e7e5ae4192ba48356.png"},134:function(e,n,t){e.exports=t.p+"img/video-player/wow@2x-6a4a15491430e2d8dbe59e95cb9b4c3e.png"},135:function(e,n,t){e.exports=t.p+"img/video-player/wow@3x-304d2229b0e4e0393097a6fde1f79590.png"},136:function(e,n,t){e.exports=t.p+"img/video-player/yay-78e2ff9834cdf83a5a66612fcbe834df.png"},137:function(e,n,t){e.exports=t.p+"img/video-player/yay@2x-332f80bf41f4608015d3880a2d6f68d1.png"},138:function(e,n,t){e.exports=t.p+"img/video-player/yay@3x-61e5ce8364a09c36e7a38c93cd9da442.png"},174:function(e,n,t){"use strict";t.d(n,"b",function(){return a}),t.d(n,"c",function(){return o}),t.d(n,"a",function(){return s});var i=t(109),r=function(e){return e.viewerInsights},a=Object(i.createSelector)(r,function(e){return e.isActive}),o=Object(i.createSelector)(r,function(e){return e.viewers}),s=Object(i.createSelector)(r,function(e){return e.selectedView||{user:{}}})},182:function(e,n,t){e.exports=t.p+"img/icons/new/globe-pb-556e6825b61d94c4e1d97ce419454ec9.svg"},183:function(e,n,t){e.exports=t.p+"img/onboarding/elevio-icon-6b5e9cb7ee7e75cba3d35e6de33d7783.png"},184:function(e,n,t){e.exports=t.p+"img/icons/default-avatar-ebe1838db4ae0479fc7c17d10e504e7f.svg"},196:function(e,n,t){"use strict";t.r(n),t.d(n,"print",function(){return r});var i=t(60);function r(e){return Object(i.visit)(e,{leave:a})}var a={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return s(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var n=e.operation,t=e.name,i=u("(",s(e.variableDefinitions,", "),")"),r=s(e.directives," "),a=e.selectionSet;return t||r||i||"query"!==n?s([n,s([t,i]),r,a]," "):a},VariableDefinition:function(e){var n=e.variable,t=e.type,i=e.defaultValue,r=e.directives;return n+": "+t+u(" = ",i)+u(" ",s(r," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var n=e.alias,t=e.name,i=e.arguments,r=e.directives,a=e.selectionSet;return s([u("",n,": ")+t+u("(",s(i,", "),")"),s(r," "),a]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+u(" ",s(e.directives," "))},InlineFragment:function(e){var n=e.typeCondition,t=e.directives,i=e.selectionSet;return s(["...",u("on ",n),s(t," "),i]," ")},FragmentDefinition:function(e){var n=e.name,t=e.typeCondition,i=e.variableDefinitions,r=e.directives,a=e.selectionSet;return"fragment ".concat(n).concat(u("(",s(i,", "),")")," ")+"on ".concat(t," ").concat(u("",s(r," ")," "))+a},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,n){var t=e.value;return e.block?function(e,n){var t=e.replace(/"""/g,'\\"""');return d(e)||" "!==e[0]&&"\t"!==e[0]?'"""\n'.concat(n?t:l(t),'\n"""'):'"""'.concat(t.replace(/"$/,'"\n'),'"""')}(t,"description"===n):JSON.stringify(t)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+s(e.values,", ")+"]"},ObjectValue:function(e){return"{"+s(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+u("(",s(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var n=e.directives,t=e.operationTypes;return s(["schema",s(n," "),c(t)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o(function(e){return s(["scalar",e.name,s(e.directives," ")]," ")}),ObjectTypeDefinition:o(function(e){var n=e.name,t=e.interfaces,i=e.directives,r=e.fields;return s(["type",n,u("implements ",s(t," & ")),s(i," "),c(r)]," ")}),FieldDefinition:o(function(e){var n=e.name,t=e.arguments,i=e.type,r=e.directives;return n+(p(t)?u("(\n",l(s(t,"\n")),"\n)"):u("(",s(t,", "),")"))+": "+i+u(" ",s(r," "))}),InputValueDefinition:o(function(e){var n=e.name,t=e.type,i=e.defaultValue,r=e.directives;return s([n+": "+t,u("= ",i),s(r," ")]," ")}),InterfaceTypeDefinition:o(function(e){var n=e.name,t=e.directives,i=e.fields;return s(["interface",n,s(t," "),c(i)]," ")}),UnionTypeDefinition:o(function(e){var n=e.name,t=e.directives,i=e.types;return s(["union",n,s(t," "),i&&0!==i.length?"= "+s(i," | "):""]," ")}),EnumTypeDefinition:o(function(e){var n=e.name,t=e.directives,i=e.values;return s(["enum",n,s(t," "),c(i)]," ")}),EnumValueDefinition:o(function(e){return s([e.name,s(e.directives," ")]," ")}),InputObjectTypeDefinition:o(function(e){var n=e.name,t=e.directives,i=e.fields;return s(["input",n,s(t," "),c(i)]," ")}),DirectiveDefinition:o(function(e){var n=e.name,t=e.arguments,i=e.locations;return"directive @"+n+(p(t)?u("(\n",l(s(t,"\n")),"\n)"):u("(",s(t,", "),")"))+" on "+s(i," | ")}),SchemaExtension:function(e){var n=e.directives,t=e.operationTypes;return s(["extend schema",s(n," "),c(t)]," ")},ScalarTypeExtension:function(e){return s(["extend scalar",e.name,s(e.directives," ")]," ")},ObjectTypeExtension:function(e){var n=e.name,t=e.interfaces,i=e.directives,r=e.fields;return s(["extend type",n,u("implements ",s(t," & ")),s(i," "),c(r)]," ")},InterfaceTypeExtension:function(e){var n=e.name,t=e.directives,i=e.fields;return s(["extend interface",n,s(t," "),c(i)]," ")},UnionTypeExtension:function(e){var n=e.name,t=e.directives,i=e.types;return s(["extend union",n,s(t," "),i&&0!==i.length?"= "+s(i," | "):""]," ")},EnumTypeExtension:function(e){var n=e.name,t=e.directives,i=e.values;return s(["extend enum",n,s(t," "),c(i)]," ")},InputObjectTypeExtension:function(e){var n=e.name,t=e.directives,i=e.fields;return s(["extend input",n,s(t," "),c(i)]," ")}};function o(e){return function(n){return s([n.description,e(n)],"\n")}}function s(e,n){return e?e.filter(function(e){return e}).join(n||""):""}function c(e){return e&&0!==e.length?"{\n"+l(s(e,"\n"))+"\n}":""}function u(e,n,t){return n?e+n+(t||""):""}function l(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function d(e){return-1!==e.indexOf("\n")}function p(e){return e&&e.some(d)}},197:function(e,n,t){e.exports=t.p+"img/icons/new/locked-pg-4f540556213728b352016dfc9dd4dbc1.svg"},198:function(e,n,t){e.exports=t.p+"img/icons/new/person-with-plus-pg-682dda70db612c8a6961ef8194f9c651.svg"},199:function(e,n,t){e.exports=t.p+"img/onboarding/add-cta-12b396a9d9cf9d9b8166c45116825edb.svg"},200:function(e,n,t){e.exports=t.p+"img/onboarding/change-settings-10009e50111ff700bdeae29784399d6f.svg"},201:function(e,n,t){e.exports=t.p+"img/onboarding/edit-title-4f8bde9acc750a5203b1225815def30e.svg"},202:function(e,n,t){e.exports=t.p+"img/onboarding/share-video-711519eadfd818ebba5abac670a62b8b.svg"},203:function(e,n,t){e.exports=t.p+"img/onboarding/upload-thumb-8bf4cbeab9f0d02cb25c9a216b17a7f2.svg"},211:function(e,n,t){"use strict";t.r(n),t.d(n,"getOperationAST",function(){return r});var i=t(3);function r(e,n){for(var t=null,r=0;r<e.definitions.length;r++){var a=e.definitions[r];if(a.kind===i.a.OPERATION_DEFINITION)if(n){if(a.name&&a.name.value===n)return a}else{if(t)return null;t=a}}return t}},213:function(e,n,t){"use strict";t.r(n);var i=t(42),r=t(38);function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=n,e.prototype.inspect=n,r.a&&(e.prototype[r.a]=n)}function o(e,n){if(!e)throw new Error(n)}var s=function(e,n,t){this.body=e,this.name=n||"GraphQL request",this.locationOffset=t||{line:1,column:1},this.locationOffset.line>0||o(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||o(0,"column in locationOffset is 1-indexed and must be positive")};function c(e,n){for(var t,i=/\r\n|[\n\r]/g,r=1,a=n+1;(t=i.exec(e.body))&&t.index<n;)r+=1,a=n+1-(t.index+t[0].length);return{line:r,column:a}}function u(e,n){var t=e.locationOffset.column-1,i=l(t)+e.body,r=n.line-1,a=e.locationOffset.line-1,o=n.line+a,s=1===n.line?t:0,c=n.column+s,u=i.split(/\r\n|[\n\r]/g);return"".concat(e.name," (").concat(o,":").concat(c,")\n")+function(e){var n=e.filter(function(e){e[0];var n=e[1];return void 0!==n}),t=0,i=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value,u=c[0];t=Math.max(t,u.length)}}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n.map(function(e){var n=e[0],i=e[1];return function(e,n){return l(e-n.length)+n}(t,n)+i}).join("\n")}([["".concat(o-1,": "),u[r-1]],["".concat(o,": "),u[r]],["",l(c-1)+"^"],["".concat(o+1,": "),u[r+1]]])}function l(e){return Array(e+1).join(" ")}function d(e,n,t,i,r,a,o){var s=Array.isArray(n)?0!==n.length?n:void 0:n?[n]:void 0,u=t;if(!u&&s){var l=s[0];u=l&&l.loc&&l.loc.source}var p,f=i;!f&&s&&(f=s.reduce(function(e,n){return n.loc&&e.push(n.loc.start),e},[])),f&&0===f.length&&(f=void 0),i&&t?p=i.map(function(e){return c(t,e)}):s&&(p=s.reduce(function(e,n){return n.loc&&e.push(c(n.loc.source,n.loc.start)),e},[]));var m=o||a&&a.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:p||void 0,enumerable:Boolean(p)},path:{value:r||void 0,enumerable:Boolean(r)},nodes:{value:s||void 0},source:{value:u||void 0},positions:{value:f||void 0},originalError:{value:a},extensions:{value:m||void 0,enumerable:Boolean(m)}}),a&&a.stack?Object.defineProperty(this,"stack",{value:a.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,d):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function p(e,n,t){return new d("Syntax Error: ".concat(t),void 0,e,[n])}function f(e){for(var n=e.split(/\r\n|[\n\r]/g),t=null,i=1;i<n.length;i++){var r=n[i],a=m(r);if(a<r.length&&(null===t||a<t)&&0===(t=a))break}if(t)for(var o=1;o<n.length;o++)n[o]=n[o].slice(t);for(;n.length>0&&v(n[0]);)n.shift();for(;n.length>0&&v(n[n.length-1]);)n.pop();return n.join("\n")}function m(e){for(var n=0;n<e.length&&(" "===e[n]||"\t"===e[n]);)n++;return n}function v(e){return m(e)===e.length}function h(e,n){var t=new T(b.SOF,0,0,0,0,null);return{source:e,options:n,lastToken:t,token:t,line:1,lineStart:0,advance:g,lookahead:y}}function g(){return this.lastToken=this.token,this.token=this.lookahead()}function y(){var e=this.token;if(e.kind!==b.EOF)do{e=e.next||(e.next=N(this,e))}while(e.kind===b.COMMENT);return e}!function(e){"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}})}(s),d.prototype=Object.create(Error.prototype,{constructor:{value:d},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var n=[];if(e.nodes){var t=!0,i=!1,r=void 0;try{for(var a,o=e.nodes[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;s.loc&&n.push(u(s.loc.source,c(s.loc.source,s.loc.start)))}}catch(e){i=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw r}}}else if(e.source&&e.locations){var l=e.source,d=!0,p=!1,f=void 0;try{for(var m,v=e.locations[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var h=m.value;n.push(u(l,h))}}catch(e){p=!0,f=e}finally{try{d||null==v.return||v.return()}finally{if(p)throw f}}}return 0===n.length?e.message:[e.message].concat(n).join("\n\n")+"\n"}(this)}}});var b=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function k(e){var n=e.value;return n?"".concat(e.kind,' "').concat(n,'"'):e.kind}var E=String.prototype.charCodeAt,w=String.prototype.slice;function T(e,n,t,i,r,a,o){this.kind=e,this.start=n,this.end=t,this.line=i,this.column=r,this.value=o,this.prev=a,this.next=null}function S(e){return isNaN(e)?b.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function N(e,n){var t=e.source,i=t.body,r=i.length,a=function(e,n,t){var i=e.length,r=n;for(;r<i;){var a=E.call(e,r);if(9===a||32===a||44===a||65279===a)++r;else if(10===a)++r,++t.line,t.lineStart=r;else{if(13!==a)break;10===E.call(e,r+1)?r+=2:++r,++t.line,t.lineStart=r}}return r}(i,n.end,e),o=e.line,s=1+a-e.lineStart;if(a>=r)return new T(b.EOF,r,r,o,s,n);var c=E.call(i,a);switch(c){case 33:return new T(b.BANG,a,a+1,o,s,n);case 35:return function(e,n,t,i,r){var a,o=e.body,s=n;do{a=E.call(o,++s)}while(null!==a&&(a>31||9===a));return new T(b.COMMENT,n,s,t,i,r,w.call(o,n+1,s))}(t,a,o,s,n);case 36:return new T(b.DOLLAR,a,a+1,o,s,n);case 38:return new T(b.AMP,a,a+1,o,s,n);case 40:return new T(b.PAREN_L,a,a+1,o,s,n);case 41:return new T(b.PAREN_R,a,a+1,o,s,n);case 46:if(46===E.call(i,a+1)&&46===E.call(i,a+2))return new T(b.SPREAD,a,a+3,o,s,n);break;case 58:return new T(b.COLON,a,a+1,o,s,n);case 61:return new T(b.EQUALS,a,a+1,o,s,n);case 64:return new T(b.AT,a,a+1,o,s,n);case 91:return new T(b.BRACKET_L,a,a+1,o,s,n);case 93:return new T(b.BRACKET_R,a,a+1,o,s,n);case 123:return new T(b.BRACE_L,a,a+1,o,s,n);case 124:return new T(b.PIPE,a,a+1,o,s,n);case 125:return new T(b.BRACE_R,a,a+1,o,s,n);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,n,t,i,r){var a=e.body,o=a.length,s=n+1,c=0;for(;s!==o&&null!==(c=E.call(a,s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new T(b.NAME,n,s,t,i,r,w.call(a,n,s))}(t,a,o,s,n);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,n,t,i,r,a){var o=e.body,s=t,c=n,u=!1;45===s&&(s=E.call(o,++c));if(48===s){if((s=E.call(o,++c))>=48&&s<=57)throw p(e,c,"Invalid number, unexpected digit after 0: ".concat(S(s),"."))}else c=_(e,c,s),s=E.call(o,c);46===s&&(u=!0,s=E.call(o,++c),c=_(e,c,s),s=E.call(o,c));69!==s&&101!==s||(u=!0,43!==(s=E.call(o,++c))&&45!==s||(s=E.call(o,++c)),c=_(e,c,s));return new T(u?b.FLOAT:b.INT,n,c,i,r,a,w.call(o,n,c))}(t,a,c,o,s,n);case 34:return 34===E.call(i,a+1)&&34===E.call(i,a+2)?function(e,n,t,i,r,a){var o=e.body,s=n+3,c=s,u=0,l="";for(;s<o.length&&null!==(u=E.call(o,s));){if(34===u&&34===E.call(o,s+1)&&34===E.call(o,s+2))return l+=w.call(o,c,s),new T(b.BLOCK_STRING,n,s+3,t,i,r,f(l));if(u<32&&9!==u&&10!==u&&13!==u)throw p(e,s,"Invalid character within String: ".concat(S(u),"."));10===u?(++s,++a.line,a.lineStart=s):13===u?(10===E.call(o,s+1)?s+=2:++s,++a.line,a.lineStart=s):92===u&&34===E.call(o,s+1)&&34===E.call(o,s+2)&&34===E.call(o,s+3)?(l+=w.call(o,c,s)+'"""',c=s+=4):++s}throw p(e,s,"Unterminated string.")}(t,a,o,s,n,e):function(e,n,t,i,r){var a=e.body,o=n+1,s=o,c=0,u="";for(;o<a.length&&null!==(c=E.call(a,o))&&10!==c&&13!==c;){if(34===c)return u+=w.call(a,s,o),new T(b.STRING,n,o+1,t,i,r,u);if(c<32&&9!==c)throw p(e,o,"Invalid character within String: ".concat(S(c),"."));if(++o,92===c){switch(u+=w.call(a,s,o-1),c=E.call(a,o)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var l=O(E.call(a,o+1),E.call(a,o+2),E.call(a,o+3),E.call(a,o+4));if(l<0)throw p(e,o,"Invalid character escape sequence: "+"\\u".concat(a.slice(o+1,o+5),"."));u+=String.fromCharCode(l),o+=4;break;default:throw p(e,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++o}}throw p(e,o,"Unterminated string.")}(t,a,o,s,n)}throw p(t,a,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(S(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(S(e),".")}(c))}function _(e,n,t){var i=e.body,r=n,a=t;if(a>=48&&a<=57){do{a=E.call(i,++r)}while(a>=48&&a<=57);return r}throw p(e,r,"Invalid number, expected digit but got: ".concat(S(a),"."))}function O(e,n,t,i){return C(e)<<12|C(n)<<8|C(t)<<4|C(i)}function C(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}a(T,function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}});var P=t(3),M=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function I(e,n){var t="string"==typeof e?new s(e):e;if(!(t instanceof s))throw new TypeError("Must provide Source. Received: ".concat(Object(i.a)(t)));return function(e){var n=e.token;return{kind:P.a.DOCUMENT,definitions:_e(e,b.SOF,L,b.EOF),loc:ge(e,n)}}(h(t,n||{}))}function V(e,n){var t=h("string"==typeof e?new s(e):e,n||{});Ee(t,b.SOF);var i=J(t,!1);return Ee(t,b.EOF),i}function x(e,n){var t=h("string"==typeof e?new s(e):e,n||{});Ee(t,b.SOF);var i=ne(t);return Ee(t,b.EOF),i}function D(e){var n=Ee(e,b.NAME);return{kind:P.a.NAME,value:n.value,loc:ge(e,n)}}function L(e){if(be(e,b.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return A(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return ie(e);case"extend":return function(e){var n=e.lookahead();if(n.kind===b.NAME)switch(n.value){case"schema":return function(e){var n=e.token;Te(e,"extend"),Te(e,"schema");var t=Z(e,!0),i=be(e,b.BRACE_L)?_e(e,b.BRACE_L,oe,b.BRACE_R):[];if(0===t.length&&0===i.length)throw Se(e);return{kind:P.a.SCHEMA_EXTENSION,directives:t,operationTypes:i,loc:ge(e,n)}}(e);case"scalar":return function(e){var n=e.token;Te(e,"extend"),Te(e,"scalar");var t=D(e),i=Z(e,!0);if(0===i.length)throw Se(e);return{kind:P.a.SCALAR_TYPE_EXTENSION,name:t,directives:i,loc:ge(e,n)}}(e);case"type":return function(e){var n=e.token;Te(e,"extend"),Te(e,"type");var t=D(e),i=se(e),r=Z(e,!0),a=ce(e);if(0===i.length&&0===r.length&&0===a.length)throw Se(e);return{kind:P.a.OBJECT_TYPE_EXTENSION,name:t,interfaces:i,directives:r,fields:a,loc:ge(e,n)}}(e);case"interface":return function(e){var n=e.token;Te(e,"extend"),Te(e,"interface");var t=D(e),i=Z(e,!0),r=ce(e);if(0===i.length&&0===r.length)throw Se(e);return{kind:P.a.INTERFACE_TYPE_EXTENSION,name:t,directives:i,fields:r,loc:ge(e,n)}}(e);case"union":return function(e){var n=e.token;Te(e,"extend"),Te(e,"union");var t=D(e),i=Z(e,!0),r=pe(e);if(0===i.length&&0===r.length)throw Se(e);return{kind:P.a.UNION_TYPE_EXTENSION,name:t,directives:i,types:r,loc:ge(e,n)}}(e);case"enum":return function(e){var n=e.token;Te(e,"extend"),Te(e,"enum");var t=D(e),i=Z(e,!0),r=fe(e);if(0===i.length&&0===r.length)throw Se(e);return{kind:P.a.ENUM_TYPE_EXTENSION,name:t,directives:i,values:r,loc:ge(e,n)}}(e);case"input":return function(e){var n=e.token;Te(e,"extend"),Te(e,"input");var t=D(e),i=Z(e,!0),r=ve(e);if(0===i.length&&0===r.length)throw Se(e);return{kind:P.a.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:i,fields:r,loc:ge(e,n)}}(e)}throw Se(e,n)}(e)}else{if(be(e,b.BRACE_L))return A(e);if(re(e))return ie(e)}throw Se(e)}function A(e){if(be(e,b.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return j(e);case"fragment":return function(e){var n=e.token;if(Te(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:P.a.FRAGMENT_DEFINITION,name:Y(e),variableDefinitions:F(e),typeCondition:(Te(e,"on"),te(e)),directives:Z(e,!1),selectionSet:q(e),loc:ge(e,n)};return{kind:P.a.FRAGMENT_DEFINITION,name:Y(e),typeCondition:(Te(e,"on"),te(e)),directives:Z(e,!1),selectionSet:q(e),loc:ge(e,n)}}(e)}else if(be(e,b.BRACE_L))return j(e);throw Se(e)}function j(e){var n=e.token;if(be(e,b.BRACE_L))return{kind:P.a.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:q(e),loc:ge(e,n)};var t,i=R(e);return be(e,b.NAME)&&(t=D(e)),{kind:P.a.OPERATION_DEFINITION,operation:i,name:t,variableDefinitions:F(e),directives:Z(e,!1),selectionSet:q(e),loc:ge(e,n)}}function R(e){var n=Ee(e,b.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Se(e,n)}function F(e){return be(e,b.PAREN_L)?_e(e,b.PAREN_L,U,b.PAREN_R):[]}function U(e){var n=e.token;return{kind:P.a.VARIABLE_DEFINITION,variable:B(e),type:(Ee(e,b.COLON),ne(e)),defaultValue:ke(e,b.EQUALS)?J(e,!0):void 0,directives:Z(e,!0),loc:ge(e,n)}}function B(e){var n=e.token;return Ee(e,b.DOLLAR),{kind:P.a.VARIABLE,name:D(e),loc:ge(e,n)}}function q(e){var n=e.token;return{kind:P.a.SELECTION_SET,selections:_e(e,b.BRACE_L,G,b.BRACE_R),loc:ge(e,n)}}function G(e){return be(e,b.SPREAD)?function(e){var n=e.token;Ee(e,b.SPREAD);var t=we(e,"on");if(!t&&be(e,b.NAME))return{kind:P.a.FRAGMENT_SPREAD,name:Y(e),directives:Z(e,!1),loc:ge(e,n)};return{kind:P.a.INLINE_FRAGMENT,typeCondition:t?te(e):void 0,directives:Z(e,!1),selectionSet:q(e),loc:ge(e,n)}}(e):function(e){var n,t,i=e.token,r=D(e);ke(e,b.COLON)?(n=r,t=D(e)):t=r;return{kind:P.a.FIELD,alias:n,name:t,arguments:W(e,!1),directives:Z(e,!1),selectionSet:be(e,b.BRACE_L)?q(e):void 0,loc:ge(e,i)}}(e)}function W(e,n){var t=n?z:H;return be(e,b.PAREN_L)?_e(e,b.PAREN_L,t,b.PAREN_R):[]}function H(e){var n=e.token;return{kind:P.a.ARGUMENT,name:D(e),value:(Ee(e,b.COLON),J(e,!1)),loc:ge(e,n)}}function z(e){var n=e.token;return{kind:P.a.ARGUMENT,name:D(e),value:(Ee(e,b.COLON),K(e)),loc:ge(e,n)}}function Y(e){if("on"===e.token.value)throw Se(e);return D(e)}function J(e,n){var t=e.token;switch(t.kind){case b.BRACKET_L:return function(e,n){var t=e.token,i=n?K:Q;return{kind:P.a.LIST,values:Ne(e,b.BRACKET_L,i,b.BRACKET_R),loc:ge(e,t)}}(e,n);case b.BRACE_L:return function(e,n){var t=e.token;Ee(e,b.BRACE_L);var i=[];for(;!ke(e,b.BRACE_R);)i.push(X(e,n));return{kind:P.a.OBJECT,fields:i,loc:ge(e,t)}}(e,n);case b.INT:return e.advance(),{kind:P.a.INT,value:t.value,loc:ge(e,t)};case b.FLOAT:return e.advance(),{kind:P.a.FLOAT,value:t.value,loc:ge(e,t)};case b.STRING:case b.BLOCK_STRING:return $(e);case b.NAME:return"true"===t.value||"false"===t.value?(e.advance(),{kind:P.a.BOOLEAN,value:"true"===t.value,loc:ge(e,t)}):"null"===t.value?(e.advance(),{kind:P.a.NULL,loc:ge(e,t)}):(e.advance(),{kind:P.a.ENUM,value:t.value,loc:ge(e,t)});case b.DOLLAR:if(!n)return B(e)}throw Se(e)}function $(e){var n=e.token;return e.advance(),{kind:P.a.STRING,value:n.value,block:n.kind===b.BLOCK_STRING,loc:ge(e,n)}}function K(e){return J(e,!0)}function Q(e){return J(e,!1)}function X(e,n){var t=e.token;return{kind:P.a.OBJECT_FIELD,name:D(e),value:(Ee(e,b.COLON),J(e,n)),loc:ge(e,t)}}function Z(e,n){for(var t=[];be(e,b.AT);)t.push(ee(e,n));return t}function ee(e,n){var t=e.token;return Ee(e,b.AT),{kind:P.a.DIRECTIVE,name:D(e),arguments:W(e,n),loc:ge(e,t)}}function ne(e){var n,t=e.token;return ke(e,b.BRACKET_L)?(n=ne(e),Ee(e,b.BRACKET_R),n={kind:P.a.LIST_TYPE,type:n,loc:ge(e,t)}):n=te(e),ke(e,b.BANG)?{kind:P.a.NON_NULL_TYPE,type:n,loc:ge(e,t)}:n}function te(e){var n=e.token;return{kind:P.a.NAMED_TYPE,name:D(e),loc:ge(e,n)}}function ie(e){var n=re(e)?e.lookahead():e.token;if(n.kind===b.NAME)switch(n.value){case"schema":return function(e){var n=e.token;Te(e,"schema");var t=Z(e,!0),i=_e(e,b.BRACE_L,oe,b.BRACE_R);return{kind:P.a.SCHEMA_DEFINITION,directives:t,operationTypes:i,loc:ge(e,n)}}(e);case"scalar":return function(e){var n=e.token,t=ae(e);Te(e,"scalar");var i=D(e),r=Z(e,!0);return{kind:P.a.SCALAR_TYPE_DEFINITION,description:t,name:i,directives:r,loc:ge(e,n)}}(e);case"type":return function(e){var n=e.token,t=ae(e);Te(e,"type");var i=D(e),r=se(e),a=Z(e,!0),o=ce(e);return{kind:P.a.OBJECT_TYPE_DEFINITION,description:t,name:i,interfaces:r,directives:a,fields:o,loc:ge(e,n)}}(e);case"interface":return function(e){var n=e.token,t=ae(e);Te(e,"interface");var i=D(e),r=Z(e,!0),a=ce(e);return{kind:P.a.INTERFACE_TYPE_DEFINITION,description:t,name:i,directives:r,fields:a,loc:ge(e,n)}}(e);case"union":return function(e){var n=e.token,t=ae(e);Te(e,"union");var i=D(e),r=Z(e,!0),a=pe(e);return{kind:P.a.UNION_TYPE_DEFINITION,description:t,name:i,directives:r,types:a,loc:ge(e,n)}}(e);case"enum":return function(e){var n=e.token,t=ae(e);Te(e,"enum");var i=D(e),r=Z(e,!0),a=fe(e);return{kind:P.a.ENUM_TYPE_DEFINITION,description:t,name:i,directives:r,values:a,loc:ge(e,n)}}(e);case"input":return function(e){var n=e.token,t=ae(e);Te(e,"input");var i=D(e),r=Z(e,!0),a=ve(e);return{kind:P.a.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:i,directives:r,fields:a,loc:ge(e,n)}}(e);case"directive":return function(e){var n=e.token,t=ae(e);Te(e,"directive"),Ee(e,b.AT);var i=D(e),r=le(e);Te(e,"on");var a=function(e){ke(e,b.PIPE);var n=[];do{n.push(he(e))}while(ke(e,b.PIPE));return n}(e);return{kind:P.a.DIRECTIVE_DEFINITION,description:t,name:i,arguments:r,locations:a,loc:ge(e,n)}}(e)}throw Se(e,n)}function re(e){return be(e,b.STRING)||be(e,b.BLOCK_STRING)}function ae(e){if(re(e))return $(e)}function oe(e){var n=e.token,t=R(e);Ee(e,b.COLON);var i=te(e);return{kind:P.a.OPERATION_TYPE_DEFINITION,operation:t,type:i,loc:ge(e,n)}}function se(e){var n=[];if(we(e,"implements")){ke(e,b.AMP);do{n.push(te(e))}while(ke(e,b.AMP)||e.options.allowLegacySDLImplementsInterfaces&&be(e,b.NAME))}return n}function ce(e){return e.options.allowLegacySDLEmptyFields&&be(e,b.BRACE_L)&&e.lookahead().kind===b.BRACE_R?(e.advance(),e.advance(),[]):be(e,b.BRACE_L)?_e(e,b.BRACE_L,ue,b.BRACE_R):[]}function ue(e){var n=e.token,t=ae(e),i=D(e),r=le(e);Ee(e,b.COLON);var a=ne(e),o=Z(e,!0);return{kind:P.a.FIELD_DEFINITION,description:t,name:i,arguments:r,type:a,directives:o,loc:ge(e,n)}}function le(e){return be(e,b.PAREN_L)?_e(e,b.PAREN_L,de,b.PAREN_R):[]}function de(e){var n=e.token,t=ae(e),i=D(e);Ee(e,b.COLON);var r,a=ne(e);ke(e,b.EQUALS)&&(r=K(e));var o=Z(e,!0);return{kind:P.a.INPUT_VALUE_DEFINITION,description:t,name:i,type:a,defaultValue:r,directives:o,loc:ge(e,n)}}function pe(e){var n=[];if(ke(e,b.EQUALS)){ke(e,b.PIPE);do{n.push(te(e))}while(ke(e,b.PIPE))}return n}function fe(e){return be(e,b.BRACE_L)?_e(e,b.BRACE_L,me,b.BRACE_R):[]}function me(e){var n=e.token,t=ae(e),i=D(e),r=Z(e,!0);return{kind:P.a.ENUM_VALUE_DEFINITION,description:t,name:i,directives:r,loc:ge(e,n)}}function ve(e){return be(e,b.BRACE_L)?_e(e,b.BRACE_L,de,b.BRACE_R):[]}function he(e){var n=e.token,t=D(e);if(M.hasOwnProperty(t.value))return t;throw Se(e,n)}function ge(e,n){if(!e.options.noLocation)return new ye(n,e.lastToken,e.source)}function ye(e,n,t){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=t}function be(e,n){return e.token.kind===n}function ke(e,n){return e.token.kind===n&&(e.advance(),!0)}function Ee(e,n){var t=e.token;if(t.kind===n)return e.advance(),t;throw p(e.source,t.start,"Expected ".concat(n,", found ").concat(k(t)))}function we(e,n){var t=e.token;return t.kind===b.NAME&&t.value===n&&(e.advance(),!0)}function Te(e,n){if(!we(e,n))throw p(e.source,e.token.start,'Expected "'.concat(n,'", found ').concat(k(e.token)))}function Se(e,n){var t=n||e.token;return p(e.source,t.start,"Unexpected ".concat(k(t)))}function Ne(e,n,t,i){Ee(e,n);for(var r=[];!ke(e,i);)r.push(t(e));return r}function _e(e,n,t,i){Ee(e,n);for(var r=[t(e)];!ke(e,i);)r.push(t(e));return r}t.d(n,"parse",function(){return I}),t.d(n,"parseValue",function(){return V}),t.d(n,"parseType",function(){return x}),t.d(n,"parseConstValue",function(){return K}),t.d(n,"parseTypeReference",function(){return ne}),t.d(n,"parseNamedType",function(){return te}),a(ye,function(){return{start:this.start,end:this.end}})},2214:function(e,n,t){t(178),t(2215),e.exports=t(180)},2215:function(e,n,t){"use strict";t.r(n);t(70),t(108);var i=t(0),r=t.n(i),a=t(68),o=t(11),s=t(92),c=t.n(s),u=t(28),l=t(81),d=t(16),p=t(639),f=t(14),m=t(342),v=t(44),h=t(75),g=t(93),y=t(15),b=t(21),k=t(49),E=t(35),w=t(94),T=t(668);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return k.a(null,null,e);var n=[c.a];if(l.b){var t=b.a();n.push(Object(g.a)(t))}return k.a(w.a,n)}var N,_=Object(E.g)(),O=_.fromPublicSharePage,C=_.parentLocation;O||window[m.b]||(D(f.D),window.location.href=f.D);var P="true"===Object(E.d)("from_link_expand"),M=window.decodeURIComponent(Object(E.d)("from_url")||""),I=window.location.pathname.replace("".concat(f.m,"/"),""),V=Object(E.d)("referrer"),x=O&&"1"===Object(E.d)(p.a);function D(e){y.f(e,{from_public_share_page:O,is_inline_embed_on_loom:!x,from_link_expand:P,from_url:M,parent_location:C,passed_referrer:V,video_id:I},{integrations:{Intercom:!1}})}window[m.b]&&function(){try{var e=window.parent.reduxStore;N=S(O&&e&&x&&e)}catch(e){N=S()}N.dispatch(Object(u.B)(P)),N.dispatch(Object(u.l)(O)),N.dispatch(Object(u.m)(!x)),N.dispatch(Object(u.K)(C||M)),N.dispatch(Object(v.c)()),N.dispatch(Object(h.d)(window[m.b])),Object(a.render)(r.a.createElement(o.Provider,{store:N},r.a.createElement(T.a,null)),document.getElementById("container")),D(d.yb)}()},226:function(e,n,t){},246:function(e,n,t){},247:function(e,n,t){var i={"./down.png":117,"./down@2x.png":118,"./down@3x.png":119,"./gradient.png":120,"./joy.png":121,"./joy@2x.png":122,"./joy@3x.png":123,"./love.png":124,"./love@2x.png":125,"./love@3x.png":126,"./nervous.png":127,"./nervous@2x.png":128,"./nervous@3x.png":129,"./up.png":130,"./up@2x.png":131,"./up@3x.png":132,"./wow.png":133,"./wow@2x.png":134,"./wow@3x.png":135,"./yay.png":136,"./yay@2x.png":137,"./yay@3x.png":138};function r(e){var n=a(e);return t(n)}function a(e){if(!t.o(i,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=247},258:function(e,n,t){"use strict";t.d(n,"a",function(){return h}),t.d(n,"b",function(){return g}),t.d(n,"d",function(){return y}),t.d(n,"c",function(){return b}),t.d(n,"e",function(){return E}),t.d(n,"f",function(){return T}),t.d(n,"g",function(){return S});t(18),t(34),t(40),t(219);var i=t(20),r=t.n(i),a=t(340),o=t.n(a),s=t(4),c=t(17),u=t.n(c),l=t(55),d=t.n(l),p=t(0),f=t.n(p),m=t(14),v=t(411),h=function(e){var n=e.type,t=e.ts,i=e.content,r=e.onClick,a=e.duration,o=n+" opaque",s={left:Object(v.b)(t,a)},c="";return i={love:"😍",yay:"🙌",joy:"😂",up:"👍",wow:"😲",down:"👎"}[i],"comment"===n&&(c=i,i=""),f.a.createElement("div",{className:o,style:s,title:c,onClick:r},i)},g=function(e){var n=e.type,t=e.width,i=e.children,a=void 0===i?null:i,s=o()(e,["type","width","children"]),c={width:t+"%"};return"played"===n&&(c.backgroundColor="#70E5A9"),"replayed"===n&&(c.backgroundColor="#00C1FF"),"filler"===n&&(c.backgroundColor="transparent"),f.a.createElement("div",r()({style:c},s,{className:n}),a&&a)},y=function(e){return f.a.createElement("div",{className:"viewer__info"},f.a.createElement(b,{avatar:e.user.avatar}),f.a.createElement(E,e.user),f.a.createElement(w,{cta:e.cta,devices:e.devices}))},b=function(e){var n=e.avatar;return f.a.createElement("div",{className:u()("viewer__avatar",{anonUser:!n}),style:n&&{backgroundImage:"url(".concat(m.i,"/").concat(n,")")}},!n&&f.a.createElement(k,null))},k=function(){return f.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f.a.createElement("path",{d:"M20 40C31.0457 40 40 31.0457 40 20C40 8.9543 31.0457 0 20 0C8.9543 0 0 8.9543 0 20C0 31.0457 8.9543 40 20 40Z",fill:"#00C1FF",className:"avatarTint"}),f.a.createElement("path",{opacity:"0.5",d:"M32.5 31.6631C32.5 34.3141 26.9543 37.9131 20.1241 37.9131C13.2939 37.9131 7.5 34.3141 7.5 31.6631C7.5 29.0121 13.2939 26.6631 20.1241 26.6631C26.9543 26.6631 32.5 29.0121 32.5 31.6631Z",fill:"white"}),f.a.createElement("circle",{opacity:"0.5",cx:"20.0046",cy:"15.8298",r:"9.16667",fill:"white"}))},E=function(e){return f.a.createElement("div",{className:"viewer__name"},f.a.createElement("h3",null,f.a.createElement(s.wb,{variant:"title"},e.name)),e.tzone&&f.a.createElement("p",null,f.a.createElement(s.wb,{variant:"body"},e.tzone)))},w=function(e){var n=e.cta,t=void 0!==n&&n,i=e.devices;return f.a.createElement("div",{className:"viewer__metadata"},t&&f.a.createElement("div",{className:"cta"}),(i||[]).map(function(e){return f.a.createElement("div",{key:e,className:e})}))},T=function(){return f.a.createElement("ul",{className:"viewers__legend"},["Watched","Replayed","Skipped"].map(function(e){return f.a.createElement("li",{key:e},f.a.createElement(s.wb,{variant:"body"},e))}))},S=function(e){return f.a.createElement("div",{className:"viewsList"},e.views.map(function(e,n){var t=Number(e),i=d()(t).format("MMMM Do, YYYY h:mma");return f.a.createElement(s.wb,{variant:"body",key:n},f.a.createElement("time",null,i))}))}},273:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=v(t(994)),r=v(t(999)),a=v(t(1e3)),o=v(t(1001)),s=v(t(1002)),c=v(t(1003)),u=v(t(1004)),l=v(t(1005)),d=v(t(1006)),p=v(t(1007)),f=v(t(1008)),m=v(t(1009));function v(e){return e&&e.__esModule?e:{default:e}}var h=[o.default,a.default,s.default,u.default,l.default,d.default,p.default,f.default,m.default,c.default];n.default=(0,i.default)({prefixMap:r.default.prefixMap,plugins:h}),e.exports=n.default},278:function(e,n,t){e.exports=t.p+"img/icons/comments-avatar-placeholder-ad20a7c4f0d515a74b4147a61bf5f43f.svg"},290:function(e,n,t){"use strict";t.d(n,"b",function(){return a}),t.d(n,"d",function(){return o}),t.d(n,"c",function(){return s}),t.d(n,"a",function(){return c});var i=t(109),r=function(e){return e.video_player},a=Object(i.createSelector)(r,function(e){return e.video}),o=Object(i.createSelector)(a,function(e){return e.views}),s=Object(i.createSelector)(r,function(e){return e.duration}),c=(Object(i.createSelector)(r,function(e){return e.reactions}),Object(i.createSelector)(r,function(e){return e.isMainVideoOnSharePage}))},3:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"})},326:function(e,n,t){"use strict";t(18),t(116);var i=t(6),r=t.n(i),a=t(7),o=t.n(a),s=t(9),c=t.n(s),u=t(8),l=t.n(u),d=t(2),p=t.n(d),f=t(10),m=t.n(f),v=t(1),h=t.n(v),g=t(0),y=t.n(g),b=t(11),k=t(69),E=t(16),w=t(15),T=(t(1034),function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=c()(this,(e=l()(n)).call.apply(e,[this].concat(a))),h()(p()(t),"onClickHandler",function(){var e=t.props,n=e.from_public_share_page,i=e.is_inline_embed_on_loom,r=e.parent_location,a=e.videoId,o=e.ownerId,s=e.viewerIsOwner,c=e.onClick;c&&c(),w.h(E.Hc,{from_public_share_page:n,is_inline_embed_on_loom:i,parent_location:r,video_id:a,owner_id:o,owner_click:s})}),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e,n,t,i=this.props,r=i.ctaMods,a=i.ctaUrl,o=i.ctaText;return r&&(e=r.color,n=r.background_color,t=r.border_radius),e=e||k.l,n=n||k.e,y.a.createElement("a",{className:"cta-button",target:a&&"_blank",rel:"noopener noreferrer",onClick:this.onClickHandler,style:{color:e,backgroundColor:n,borderRadius:"".concat(t,"px")},size:o?o.length:0,href:a&&(a.indexOf("http")>-1?a:"//".concat(a))},o||y.a.createElement("span",{className:"call-to-action-placeholder"},"Call-to-action"))}}]),n}(g.Component));n.a=Object(b.connect)(function(e){var n=e.share_video,t=n.cta_mods,i=n.cta_text,r=n.cta_url,a=e.video_player,o=a.from_public_share_page,s=a.is_inline_embed_on_loom,c=a.parent_location,u=a.video||{},l=u.id,d=u.owner_id;return{ctaMods:t,ctaText:i,ctaUrl:r,from_public_share_page:o,is_inline_embed_on_loom:s,parent_location:c,videoId:l,ownerId:d,viewerIsOwner:d===e.user.current.id}})(T)},327:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),a=t(0),o=u(a),s=u(t(27)),c=u(t(17));function u(e){return e&&e.__esModule?e:{default:e}}var l={title:/<title>.*<\/title>/gi,desc:/<desc>.*<\/desc>/gi,comment:/<!--.*-->/gi,defs:/<defs>.*<\/defs>/gi,width:/ +width="\d+(\.\d+)?(px)?"/gi,height:/ +height="\d+(\.\d+)?(px)?"/gi,fill:/ +fill="(none|#[0-9a-f]+)"/gi,sketchMSShapeGroup:/ +sketch:type="MSShapeGroup"/gi,sketchMSPage:/ +sketch:type="MSPage"/gi,sketchMSLayerGroup:/ +sketch:type="MSLayerGroup"/gi},d=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a.Component),r(n,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.component,a=e.svg,s=e.fill,u=e.width,d=e.accessibilityLabel,p=e.accessibilityDesc,f=e.classSuffix,m=e.cleanupExceptions,v=function(e,n){var t={};for(var i in e)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}(e,["className","component","svg","fill","width","accessibilityLabel","accessibilityDesc","classSuffix","cleanupExceptions"]),h=this.props,g=h.cleanup,y=h.height;(!0===g||0===g.length&&m.length>0)&&(g=Object.keys(l)),g=g.filter(function(e){return!(m.indexOf(e)>-1)}),u&&void 0===y&&(y=u),delete v.cleanup,delete v.height;var b=(0,c.default)(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({SVGInline:!0,"SVGInline--cleaned":g.length},t,t)),k=b.split(" ").join(f+" ")+f,E=n.cleanupSvg(a,g).replace(/<svg/,'<svg class="'+k+'"'+(s?' fill="'+s+'"':"")+(u||y?' style="'+(u?"width: "+u+";":"")+(y?"height: "+y+";":"")+'"':"")),w=void 0;if(p){var T=(w=/<svg(.|\n|\r\n)*?>/.exec(E)).index+w[0].length;E=E.substr(0,T)+"<desc>"+p+"</desc>"+E.substr(T)}if(d){var S=(w=w||/<svg(.|\n|\r\n)*?>/.exec(E)).index+w[0].length-1,N="SVGInline-"+n.idCount+++"-title";E=E.substr(0,S)+' role="img" aria-labelledby="'+N+'"'+E.substr(S,1)+'<title id="'+N+'">'+d+"</title>"+E.substr(S+1)}return o.default.createElement(r,i({},v,{className:b,dangerouslySetInnerHTML:{__html:E}}))}}]),n}();d.propTypes={className:s.default.string,classSuffix:s.default.string,component:s.default.oneOfType([s.default.string,s.default.func]),svg:s.default.string.isRequired,fill:s.default.string,cleanup:s.default.oneOfType([s.default.bool,s.default.array]),cleanupExceptions:s.default.array,width:s.default.string,height:s.default.string,accessibilityLabel:s.default.string,accessibilityDesc:s.default.string},d.defaultProps={component:"span",classSuffix:"-svg",cleanup:[],cleanupExceptions:[]},d.idCount=0,d.cleanupSvg=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(l).filter(function(e){return n.indexOf(e)>-1}).reduce(function(e,n){return e.replace(l[n],"")},e).trim()},n.default=d},340:function(e,n,t){var i=t(503);e.exports=function(e,n){if(null==e)return{};var t,r,a=i(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}},355:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return"string"==typeof e&&i.test(e)};var i=/-webkit-|-moz-|-ms-/;e.exports=n.default},356:function(e,n,t){e.exports=t.p+"img/input-error-49cbcb9f999c530895459ee30e992f1e.svg"},362:function(e,n,t){"use strict";t.d(n,"c",function(){return r}),t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o});var i=t(5),r=function(){return{type:i.Mc}},a=function(e){return{type:i.rb,viewers:e}},o=function(e){return{type:i.Lb,selectedView:e}}},373:function(e,n,t){},38:function(e,n,t){"use strict";var i="function"==typeof Symbol?Symbol.for("nodejs.util.inspect.custom"):void 0;n.a=i},41:function(e,n,t){"use strict";t.d(n,"a",function(){return i}),t.d(n,"f",function(){return r}),t.d(n,"n",function(){return a}),t.d(n,"b",function(){return o}),t.d(n,"c",function(){return s}),t.d(n,"e",function(){return c}),t.d(n,"j",function(){return u}),t.d(n,"l",function(){return l}),t.d(n,"m",function(){return d}),t.d(n,"k",function(){return p}),t.d(n,"d",function(){return f}),t.d(n,"g",function(){return m}),t.d(n,"h",function(){return v}),t.d(n,"i",function(){return h});var i="add",r="remove",a="update",o="enter",s="leave",c="redo",u="undo",l="update-selected-trim-bound",d="update-selected-trim-range",p="update-current-trim-range",f=100,m=3e3,v="lower",h="upper"},411:function(e,n,t){"use strict";t.d(n,"b",function(){return s}),t.d(n,"a",function(){return c});t(18),t(63),t(34),t(323);var i=t(36),r=t.n(i),a=function(e,n){var t=e.start;return 100*(e.end-t)/n},o=function(e,n,t){return a({start:e.end,end:n.start},t)},s=function(e,n){return 100*e/n+"%"},c=function(e){var n=e.plays,t=e.replays,i=e.skips,s=e.duration,c=void 0===s?0:s;if(!n)return[];var u=function(e,n){return e.map(function(e){return{start:e.start,end:e.end,type:n}})};return[].concat(r()(u(n,"played")),r()(u(i,"skipped"))).sort(function(e,n){return e.start-n.start}).map(function(e){for(var n=a(e,c),i=[],r=e.end-e.start,s=e.start,u=function(e,n){var t=e.start,i=e.end;return n.filter(function(e){return e.start>=t&&e.end<=i})}(e,t).sort(function(e,n){return e.start-n.start}),l=0;l<=u.length;l++){var d="replayed",p=u[l-1]||{start:s,end:s},f=u[l]||{start:p.end,end:r};if(p){var m=o(p,f,r);m&&i.push({width:m,type:"filler"})}var v=a(f,r);if(!u[l]){if(f.start>f.end)continue;d="filler"}i.push({width:v,type:d,start:f.start})}return{width:n,type:e.type,start:e.start,replayBlocks:i}})}},412:function(e,n,t){"use strict";t(18),t(720);var i=t(6),r=t.n(i),a=t(7),o=t.n(a),s=t(9),c=t.n(s),u=t(8),l=t.n(u),d=t(2),p=t.n(d),f=t(10),m=t.n(f),v=t(449),h=t.n(v),g=t(27),y=t.n(g),b=t(0),k=t.n(b),E=(t(1050),{onClose:y.a.func,onOpen:y.a.func,closeHandler:y.a.func,vAlign:y.a.oneOf(["auto","top","bottom"])}),w=function(e){function n(e){var t;return r()(this,n),(t=c()(this,l()(n).call(this,e))).state={position_rerender:!1},t.onTransitionEnd=t.onTransitionEnd.bind(p()(t)),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.children,i=n.show,r=this.getPositionStyles(),a=i?"show":"",o=this.props.additionalClass,s=void 0===o?"":o;return k.a.createElement("div",{className:"dropdown-menu ".concat(a," ").concat(s),ref:function(n){return e.menu=n},onTransitionEnd:this.onTransitionEnd,style:r},t)}},{key:"componentDidMount",value:function(){this.setState({position_rerender:!0})}},{key:"onTransitionEnd",value:function(){var e=this.props,n=e.onClose,t=e.onOpen,i=e.show;i&&t?h()(t):!i&&n&&h()(n)}},{key:"getPositionStyles",value:function(){if(this.menu){var e=this.props,n=e.align,t=e.show,i=this.props.vAlign,r={},a=this.menu.parentNode,o=a.getBoundingClientRect(),s=o.right-(this.menu.clientWidth+5),c=document.body.offsetWidth-o.left-(this.menu.clientWidth+5),u=-(this.menu.clientWidth/2-a.clientWidth/2);switch(n){case"right":r.right=Math.min(0,s);break;case"center":r.left=Math.min(u,c);break;case"left":default:r.left=Math.min(0,c)}var l=document.body.clientHeight,d=o.top+o.height/2;"auto"===i&&(i=d>l/2?"bottom":top);var p=("top"===i?1:-1)*((t?7:-7)-7);switch(i){default:case"top":r.top=a.clientHeight+p+4;break;case"bottom":r.top=-this.menu.clientHeight+p-4}if(null!=r.left){var f=this.menu.getBoundingClientRect().left-parseInt(this.menu.style.left,10)+r.left;f<0&&(r.left+=Math.abs(f))}return r}}}]),n}(b.PureComponent);w.propTypes=E,n.a=w},42:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var i=t(38);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){switch(r(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(e){var n=function(e){var n=e[String(i.a)];if("function"==typeof n)return n;if("function"==typeof e.inspect)return e.inspect}(e);if(n){var t=n.call(e);return"string"==typeof t?t:a(t)}if(Array.isArray(e))return"["+e.map(a).join(", ")+"]";var o=Object.keys(e).map(function(n){return"".concat(n,": ").concat(a(e[n]))}).join(", ");return o?"{ "+o+" }":"{}"}return String(e);default:return String(e)}}},437:function(e,n,t){},488:function(e,n,t){"use strict";t(34),t(219),t(396);var i=t(6),r=t.n(i),a=t(7),o=t.n(a),s=t(9),c=t.n(s),u=t(8),l=t.n(u),d=t(2),p=t.n(d),f=t(10),m=t.n(f),v=t(1),h=t.n(v),g=t(110),y=t.n(g),b=t(17),k=t.n(b),E=t(277),w=t.n(E),T=t(27),S=t.n(T),N=t(0),_=t.n(N),O=t(11),C=t(210),P=t(75),M=t(167),I=t(380),V=t(384),x=(t(1030),function(e){function n(e){var t;return r()(this,n),t=c()(this,l()(n).call(this,e)),h()(p()(t),"createEmojiReaction",function(e){t.props.onClickEmoji({type:e.type,time:1e3*t.props.currentVideoTime}),t.props.isLoggedIn||Object(M.a)()||t.setState({showUsernameInput:!0,showEmojiBar:!1})}),h()(p()(t),"showUsername",function(){y()({targets:t.inputElement.parentNode,opacity:[0,1],duration:300,easing:"linear"}).finished.then(function(){t.inputElement.focus()})}),h()(p()(t),"hideUsername",function(){return y()({targets:t.inputElement.parentNode,opacity:[1,0],duration:300,easing:"linear"}).finished.then(function(){t.setState({showEmojiBar:!0})})}),h()(p()(t),"onBlur",function(){window.clearTimeout(t.onChangeDebounceTimer),t.changeUsername(event.target.value)}),h()(p()(t),"onKeyDown",function(e){"Enter"==e.key&&(window.clearTimeout(t.onChangeDebounceTimer),t.changeUsername(e.target.value)),"Escape"==e.key&&t.setState({showUsernameInput:!1})}),h()(p()(t),"onInputChange",function(e){var n=e.target.value;window.clearTimeout(t.onChangeDebounceTimer),t.onChangeDebounceTimer=window.setTimeout(function(){t.changeUsername(n)},1e3)}),h()(p()(t),"changeUsername",function(e){t.setState({showUsernameInput:!1}),e&&t.props.onChangeUsername(e)}),t.state={time:0,showUsernameInput:!1,showEmojiBar:!0,volumeControlOverEmojiBar:!1},t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.hideReaction,i=n.duration,r=n.controlsActive,a=this.state.volumeControlOverEmojiBar;return _.a.createElement("div",{className:k()("emoji-bar-container",{"controls-not-active":!r,hide:a})},this.props.children,this.state.showEmojiBar&&_.a.createElement("div",{className:"emoji-bar",ref:function(n){return e.emojiBar=n}},Object.values(C.d).map(function(n){return _.a.createElement(I.a,{key:n,duration:i,time:Number(e.state.time),show:t!=n,type:n,onClick:w()(e.createEmojiReaction,500)})})),_.a.createElement(V.a,{show:this.state.showUsernameInput,onDidMount:this.showUsername,onWillUnmount:this.hideUsername},_.a.createElement("div",{className:"emoji-bar-username-input"},_.a.createElement("input",{ref:function(n){return e.inputElement=n},type:"text",placeholder:"Your name",onKeyDown:this.onKeyDown,onChange:this.onInputChange,onBlur:this.onBlur}))))}},{key:"componentDidUpdate",value:function(e){var n=this.props.volumeControlActive,t=e.volumeControlActive;if(n&&!t){var i=document.querySelector(".video-player-video-container");i&&i.clientWidth<650&&this.setState({volumeControlOverEmojiBar:!0})}else!n&&t&&this.setState({volumeControlOverEmojiBar:!1})}}]),n}(N.Component));x.propTypes={hideReaction:S.a.string,onClickEmoji:S.a.func};n.a=Object(O.connect)(function(e){return{controlsActive:e.video_player.controlsActive,currentVideoTime:e.video_player.current_time,duration:e.video_player.duration,isLoggedIn:e.user.is_logged_in,volumeControlActive:e.video_player.volume_control_active}},function(e){return{onClickEmoji:function(n){return e(Object(P.b)(n))},onChangeUsername:function(n){return e(Object(P.h)(n))}}})(x)},489:function(e,n,t){"use strict";t(18),t(58),t(85);var i=t(13),r=t.n(i),a=(t(43),t(19)),o=t.n(a),s=t(6),c=t.n(s),u=t(7),l=t.n(u),d=t(9),p=t.n(d),f=t(8),m=t.n(f),v=t(2),h=t.n(v),g=t(10),y=t.n(g),b=t(1),k=t.n(b),E=t(0),w=t.n(E),T=t(11),S=t(21),N=t(649),_=t.n(N),O=t(14),C=t(45),P=t(32),M=t(282),I=t(419),V=t(25),x=t(113),D=(t(1038),function(e){var n=e.redirect,t=e.isMainVideoOnSharePage,i=e.videoId,r=t?"Public viewing has been disabled by the video owner. Login to view or request access.":"Log in on ".concat(O.v," for access"),a=t?w.a.createElement(E.Fragment,null,w.a.createElement(V.a,{onClicked:function(){window.location=Object(I.b)(n,"Please Login to view this video")},capitalize:!1,buttonType:"rp-primary-2",value:"Login"}),w.a.createElement("a",{href:"".concat(O.s,"?signup=1"),className:"secondary-cta"},"Create an Account")):w.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"".concat(O.A,"/share/").concat(i)},w.a.createElement(V.a,{capitalize:!1,buttonType:"rp-primary-3",value:"Go to Video"}));return w.a.createElement(E.Fragment,null,w.a.createElement("div",{className:"loom-permissions-modal-title"},"You need permission to view this video"),w.a.createElement("div",{className:"loom-permissions-modal-body"},r),a)}),L=function(e){var n=e.error,t=e.onClick,i=e.requestSent,r=e.alreadyPinged;return w.a.createElement(E.Fragment,null,!i&&w.a.createElement(E.Fragment,null,w.a.createElement("div",{className:"loom-permissions-modal-title"},"You need permission to view this video"),w.a.createElement("div",{className:"loom-permissions-modal-body"},"Public viewing has been disabled by the video owner."),w.a.createElement(V.a,{onClicked:t,capitalize:!1,buttonType:"rp-primary-2",value:"Request access"})),i&&w.a.createElement("div",{className:"loom-permissions-modal-title"},!r&&"Your request has been sent!",r&&"You're only allowed to request access once a day per video."),n&&w.a.createElement("div",{className:"loom-permissions-modal-title"},n))},A=function(e){var n=e.email,t=e.error,i=e.onClick,r=e.requestSent;return w.a.createElement(E.Fragment,null,!r&&w.a.createElement(E.Fragment,null,w.a.createElement("div",{className:"loom-permissions-modal-title"},"You need permission to view this video"),w.a.createElement("div",{className:"loom-permissions-modal-body"},"Public viewing has been disabled by the video owner. Verify your email (",n,") to view."),w.a.createElement(V.a,{onClicked:i,capitalize:!1,buttonType:"rp-primary-2",value:"Resend Verify Email"})),r&&w.a.createElement("div",{className:"loom-permissions-modal-title"},"Your verification email was sent!"),t&&w.a.createElement("div",{className:"loom-permissions-modal-title"},t))},j=function(e){function n(){var e,t;c()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=p()(this,(e=m()(n)).call.apply(e,[this].concat(a))),k()(h()(t),"state",{showSignup:!1,requestSent:!1,alreadyPinged:!1}),k()(h()(t),"getRedirectString",function(e){return"".concat(O.A,"/share/").concat(e)}),k()(h()(t),"showSignupModal",function(){return t.setState({showSignup:!0})}),k()(h()(t),"pingVideoOwnerForAccess",o()(r.a.mark(function e(){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.setState({error:null}),n=t.props.videoId,e.next=5,fetch("/v1/videos/".concat(n,"/access_ping"),{credentials:"include",method:"POST"});case 5:if((i=e.sent).status!==P.e){e.next=11;break}return t.setState({alreadyPinged:!0,requestSent:!0}),e.abrupt("return");case 11:if(!(i.status>=400)){e.next=13;break}throw new Error("Error checking password - HTTP response: ".concat(i.status));case 13:t.setState({requestSent:!0}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),S.b(e.t0,"error requesting access for your video"),t.setState({error:"There was an error requesting access for your video"});case 20:case"end":return e.stop()}},e,null,[[0,16]])}))),k()(h()(t),"sendEmailVerificationEmail",o()(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.setState({error:null}),n=Object(C.a)(),e.next=5,n.mutate({mutation:_.a});case 5:t.setState({requestSent:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),S.b(e.t0,"error sending email verification email"),t.setState({error:"There was an error sending your email verification email"});case 12:case"end":return e.stop()}},e,null,[[0,8]])}))),t}return y()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.email,t=e.error,i=e.videoId,r=e.isLoggedIn,a=e.loggedInChecked,o=e.isMainVideoOnSharePage,s=e.userHasEmailVerification,c=this.state,u=c.requestSent,l=c.alreadyPinged;return a?w.a.createElement("div",{className:"loom-video-permission-modal-wrapper"},w.a.createElement(x.a,{show:!0,showClose:!1,dark:!0,className:"loom-video-modal"},!r&&w.a.createElement(D,{redirect:this.getRedirectString(i),isMainVideoOnSharePage:o,videoId:i}),r&&!s&&w.a.createElement(A,{email:n,error:t,onClick:this.sendEmailVerificationEmail,requestSent:u}),r&&s&&w.a.createElement(L,{error:t,onClick:this.pingVideoOwnerForAccess,requestSent:u,alreadyPinged:l}))):null}}]),n}(E.Component);n.a=Object(T.connect)(function(e){var n=e.user,t=n.current,i=n.is_logged_in,r=n.is_logged_in_checked,a=e.video_player,o=a.isMainVideoOnSharePage,s=a.video.id,c=t&&t.status===M.b;return{email:t&&t.email,videoId:s,isLoggedIn:i,loggedInChecked:r,isMainVideoOnSharePage:o,userHasEmailVerification:c}},null)(j)},491:function(e,n,t){"use strict";t(18);var i=t(6),r=t.n(i),a=t(7),o=t.n(a),s=t(9),c=t.n(s),u=t(8),l=t.n(u),d=t(2),p=t.n(d),f=t(10),m=t.n(f),v=t(1),h=t.n(v),g=t(17),y=t.n(g),b=t(37),k=t.n(b),E=t(0),w=t.n(E),T=t(16),S=t(15),N=t(21),_=t(87),O=(t(63),t(179),t(14)),C=t(220),P=(t(1045),2e3),M=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=c()(this,(e=l()(n)).call.apply(e,[this].concat(a))),h()(p()(t),"state",{copied:null}),h()(p()(t),"handleClick",function(e){e.stopPropagation(),C.b(t.input);var n=C.a(t.input);t.setState({copied:n},function(){setTimeout(function(){t.setState({copied:null},function(){t.props.onClick(e,n)})},P)})}),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this,n=this.props.video,t=this.state.copied,i=["copy-link-item",this.state.copied&&"success"].filter(Boolean).join(" ");return w.a.createElement("li",{className:i,onClick:this.handleClick},w.a.createElement("div",{className:"icon"}),w.a.createElement("span",null,null===t&&"Link",!0===t&&"Link copied!",!1===t&&"Error, try again"),w.a.createElement("input",{ref:function(n){return e.input=n},readOnly:!0,value:"".concat(O.A,"/share/").concat(n.id)}))}}]),n}(E.Component);h()(M,"defaultProps",{onClick:function(){}});var I=M,V=(t(1046),function(e){function n(){return r()(this,n),c()(this,l()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){return w.a.createElement("li",{className:"share-video-embed-code-dropdown-item",onClick:this.props.onClick},w.a.createElement("div",{className:"icon"}),w.a.createElement("span",null,"Embed"))}}]),n}(E.Component));var x=function(e){var n=e.onClick;return w.a.createElement("li",{className:"copy-link-item",onClick:n},w.a.createElement("div",{className:"icon"}),w.a.createElement("span",null,"Linked GIF"))},D=(t(58),t(85),t(13)),L=t.n(D),A=(t(43),t(19)),j=t.n(A),R=(t(1047),function(e){function n(e){var t;return r()(this,n),(t=c()(this,l()(n).call(this,e))).onClick=t.onClick.bind(p()(t)),t}return m()(n,e),o()(n,[{key:"render",value:function(){return w.a.createElement("li",{className:"share-video-facebook-dropdown-item",onClick:this.onClick},w.a.createElement("div",{className:"icon"}),w.a.createElement("span",null,"Facebook"))}},{key:"onClick",value:function(){var e=j()(L.a.mark(function e(){var n,t,i,r;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,t=n.currentUserIsOwner,i=n.video,r=t?"recorded via":"saw on",e.next=4,new Promise(function(e){window.fbReady(e)});case 4:window.FB.ui({method:"share",display:"popup",quote:"Check out this video I ".concat(r," Loom."),href:"".concat(O.A,"/share/").concat(i.id)}),this.props.onClick&&this.props.onClick();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),n}(E.Component)),F=(t(40),t(1048),function(e){function n(e){var t;return r()(this,n),(t=c()(this,l()(n).call(this,e))).onClick=t.onClick.bind(p()(t)),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props.video,n="".concat(O.A,"/share/").concat(e.id),t="https://mail.google.com/mail/?view=cm&fs=1&"+["su=".concat(window.encodeURIComponent("".concat(e.name," [video]"))),"body=".concat(window.encodeURIComponent(n))].join("&");return w.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t,onClick:this.onClick},w.a.createElement("li",{className:"share-video-gmail-dropdown-item"},w.a.createElement("div",{className:"icon"}),w.a.createElement("span",null,"Gmail")))}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}}]),n}(E.Component)),U=(t(1049),function(e){function n(e){var t;return r()(this,n),(t=c()(this,l()(n).call(this,e))).onClick=t.onClick.bind(p()(t)),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.currentUserIsOwner,t=e.video,i=n?"recorded via":"saw on",r="".concat(O.A,"/share/").concat(t.id),a=window.encodeURI("https://twitter.com/share?text="+"Check out this video I ".concat(i," @useloom.")+"&url=".concat(r,"&hashtags=productivity,video"));return w.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a,onClick:this.onClick},w.a.createElement("li",{className:"share-video-twitter-dropdown-item"},w.a.createElement("div",{className:"icon"}),w.a.createElement("span",null,"Twitter")))}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}}]),n}(E.Component)),B=t(412),q=(t(1051),function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=c()(this,(e=l()(n)).call.apply(e,[this].concat(a))),h()(p()(t),"handleCopyLinkClick",function(e){e.stopPropagation(),S.h(T.Zb),t.props.onHide()}),h()(p()(t),"trackFacebookClick",function(){t.postIfLogged("/api/users/shared-video-on-fb"),S.h(T.Xb)}),h()(p()(t),"trackTwitterClick",function(){t.postIfLogged("/api/users/tweeted-video"),S.h(T.bc)}),h()(p()(t),"trackGmailClick",function(){S.h(T.Yb)}),h()(p()(t),"postIfLogged",function(e){t.props.isLoggedIn&&k()(e,{method:"POST",credentials:"include"}).catch(function(n){N.b(n,"error POST ".concat(e))})}),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.additionalClass,t=e.currentUserIsOwner,i=e.hasGmailAccount,r=e.showFacebook,a=void 0===r||r,o=e.video,s=e.show,c=e.align,u=e.vAlign,l=e.videoIsTeamShared,d=e.handleEmbedCodeClick,p=void 0===d?null:d,f=e.handleEmbedThumbClick,m=void 0===f?null:f,v=Boolean(Object(_.d)(o));return w.a.createElement(B.a,{show:s,align:c,vAlign:u,additionalClass:y()(n,"share-dropdown")},w.a.createElement(I,{onClick:this.handleCopyLinkClick,video:o}),v&&m&&w.a.createElement(x,{onClick:m}),p&&w.a.createElement(V,{onClick:p}),w.a.createElement("div",{className:"embed"}),w.a.createElement(U,{currentUserIsOwner:t,onClick:this.trackTwitterClick,video:o,videoIsTeamShared:l}),a&&w.a.createElement(R,{currentUserIsOwner:t,onClick:this.trackFacebookClick,video:o,videoIsTeamShared:l}),i&&w.a.createElement(F,{onClick:this.trackGmailClick,video:o}))}}]),n}(E.Component));h()(q,"defaultProps",{show:!1,onHide:function(){},align:"left",vAlign:"auto"});n.a=q},517:function(e,n,t){},530:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SessionEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EventMsg"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sessionEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}}],directives:[]}]}}],loc:{start:0,end:75}};t.loc.source={body:"mutation SessionEvent($event: EventMsg!) {\n  sessionEvent(event: $event)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.SessionEvent=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"SessionEvent")},57:function(e,n,t){"use strict";t(18),t(34),t(112),t(219),t(58),t(85),t(159);var i=t(1),r=t.n(i),a=t(36),o=t.n(a),s=t(12),c=t.n(s),u=t(37),l=t.n(u),d=t(157),p=t.n(d),f=t(79),m=t.n(f),v=t(238),h=t.n(v),g=t(315),y=t.n(g),b=t(360),k=t.n(b),E=t(541),w=t.n(E),T=t(160),S=t.n(T),N=t(29),_=t(5),O=function(){return{type:_.D}},C=function(){return{type:_.fb}},P=function(e){return{type:_.Ed,trimRange:e}},M=function(e){return{type:_.He,trimBound:e}},I=function(e){return{type:_.Ie,trimRange:e}},V=function(e){return{type:_.bf,originalRanges:e}},x=function(e){return{type:_.df,redoStack:e}},D=function(e){return{type:_.ef,undoStack:e}},L=t(28),A=t(26),j=t(16),R=t(32),F=t(50),U=t(31),B=t(41),q=t(75),G=t(15),W=t(21),H=t(100);t.d(n,"b",function(){return K}),t.d(n,"c",function(){return Q}),t.d(n,"a",function(){return X}),t.d(n,"f",function(){return Z}),t.d(n,"k",function(){return ee}),t.d(n,"g",function(){return ne}),t.d(n,"e",function(){return te}),t.d(n,"d",function(){return ie}),t.d(n,"h",function(){return re}),t.d(n,"i",function(){return ae}),t.d(n,"j",function(){return oe}),t.d(n,"l",function(){return se});var z=new Error("unknown trim operation");function Y(e){var n=e.trimRange,t=e.type;switch(t){case B.a:return X(n,!0);case B.f:return Z(n.id,!0);case B.n:return ee(n,!0);default:return W.b(z,"unkown trim operation ".concat(t)),{}}}function J(e,n){var t=e.trimRange,i=e.type;switch(i){case B.a:return{type:B.f,trimRange:t};case B.f:return{type:B.a,trimRange:t};case B.n:return{type:B.n,trimRange:n};default:return W.b(z,"unkown trim operation ".concat(i)),{}}}function $(e){return k()(e,function(e){return e.from})}var K=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t,i){t(Object(L.o)(!1));var r=e.map(function(e){return y()(e,"from","to")}),a=e.map(function(e,n){var t=c()({},e);return null==t.id&&(t.id=Number(new Date)+n),t});n&&window.top.postMessage({type:F.w,operation:B.b,trimRanges:a},"*"),t(V(r)),t(se(a)),t(O());var o=i().video_player,s=o.current_time,u=o.duration,l=o.video,d=o.volume,p=u;null!=l.video_properties.duration&&(p=l.video_properties.duration);var f=Object(H.b)(1e3*s,e);return t(Object(q.m)(!0)).then(function(){var e=f/1e3;return t(Object(L.b)(e)),e<p&&t(Object(L.g)()),new Promise(function(e){var n=window.setInterval(function(){i().video_player.has_started&&(window.clearInterval(n),e())},50)})}).then(function(){t(Object(L.f)())}).then(function(){return t(Object(L.k)(d))})}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t,i){n&&window.top.postMessage({type:F.w,operation:B.c,updatedVideo:e},"*"),t(C());var r=i().video_player.current_time,a=i().trimming.trim_ranges;null!=e?(t(Object(L.s)(0)),t(Object(q.i)(e))):(t(Object(L.s)(Object(H.a)(1e3*r,a)/1e3)),t(Object(q.m)()))}},X=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(i,r){var a=r().trimming,s=a.trim_ranges,u=a.undo_stack,l=c()({},e);n||null!=e.id||(l.id=Number(new Date));var d=$([].concat(o()(p()(s)),[l]));if(!n){var f=[].concat(o()(p()(u)),[J({type:B.a,trimRange:l})]);i(D(f)),i(x([])),t&&window.top.postMessage({type:F.w,operation:B.a,trimRange:l},"*")}i(se(d))}},Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(i,r){var a=r().trimming,s=a.current_trim_range,c=a.trim_ranges,u=a.undo_stack,l=m()(c,function(n){return n.id===e});if(null!=l){var d=$(p()(S()(c,l)));if(!n){var f=[].concat(o()(p()(u)),[J({type:B.f,trimRange:l})]);i(D(f)),i(x([])),t&&window.top.postMessage({type:F.w,operation:B.f,id:e},"*")}i(se(d)),null!=s&&s.id!==e&&i(re(s))}}},ee=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(i,r){var a=r().trimming,s=a.trim_ranges,c=a.undo_stack,u=m()(s,function(n){return n.id===e.id});if(null!=u){var l=$([].concat(o()(p()(S()(s,u))),[e]));if(!n){var d=[].concat(o()(p()(c)),[J({type:B.n},u)]);i(D(d)),i(x([])),t&&window.top.postMessage({type:F.w,operation:B.n,trimRange:e},"*")}i(se(l))}}},ne=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(n,t){var i=t().trimming,r=i.redo_stack,a=i.trim_ranges,s=i.undo_stack,c=p()(s),u=c.pop();n(Y(u)),n(D(c));var l=m()(a,function(e){return e.id===u.trimRange.id}),d=J(u,l),f=[].concat(o()(p()(r)),[d]);n(x(f)),e&&window.top.postMessage({type:F.w,operation:B.j},"*")}},te=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(n,t){var i=t().trimming,r=i.redo_stack,a=i.trim_ranges,s=i.undo_stack,c=p()(r),u=c.pop();n(Y(u)),n(x(c));var l=m()(a,function(e){return e.id===u.trimRange.id}),d=J(u,l),f=[].concat(o()(p()(s)),[d]);n(D(f)),e&&window.top.postMessage({type:F.w,operation:B.e},"*")}},ie=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(t,i){var a=i().trimming.trim_ranges,o=e.id,s=e.video_properties,c=(void 0===s?{}:s).duration,u=Object(H.h)(c,a),d="".concat(1," second");if(u<1)return window.alert("Woops! You can't publish a video that's less than "+"".concat(d," long."));var p=JSON.stringify({processing_information:{trim_ranges:a.map(function(e){return y()(e,"from","to")})}});return l()("/v1/videos/".concat(o),{credentials:"include",headers:r()({},R.b,U.b),method:"PATCH",body:p}).then(function(e){if(e.status>=400)throw new Error("Oops! Error trimming video - HTTP response: ".concat(e.status));return e.json()}).then(function(e){return window.top.postMessage({type:F.k,processing_information:e.processing_information},"*"),t(Q(e))}).then(function(){a.length>0&&G.h(j.Ac,Object(H.g)(e,a,c)),n()}).catch(function(e){W.b(e,"error in trim video creator"),t(Object(N.b)(A.a,e.toString()))})}},re=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t){return n&&window.top.postMessage({type:F.w,operation:B.k,trimRange:e},"*"),t(P(e))}},ae=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t){return n&&window.top.postMessage({type:F.w,operation:B.l,trimBound:e},"*"),t(M(e))}},oe=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t){return n&&window.top.postMessage({type:F.w,operation:B.m,trimRange:e},"*"),t(I(e))}},se=function(e){return function(n,t){var i=t().trimming.original_ranges,r=w()(e,"id"),a=r.map(function(e){return y()(e,"from","to")});n(function(e){return{type:_.af,newChanges:e}}(!h()(a,i))),n(function(e){return{type:_.cf,trimRanges:e}}(r))}}},60:function(e,n,t){"use strict";t.r(n),t.d(n,"QueryDocumentKeys",function(){return r}),t.d(n,"BREAK",function(){return a}),t.d(n,"visit",function(){return o}),t.d(n,"visitInParallel",function(){return c}),t.d(n,"visitWithTypeInfo",function(){return u}),t.d(n,"getVisitFn",function(){return l});var i=t(42),r={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},a={};function o(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=void 0,c=Array.isArray(e),u=[e],d=-1,p=[],f=void 0,m=void 0,v=void 0,h=[],g=[],y=e;do{var b=++d===u.length,k=b&&0!==p.length;if(b){if(m=0===g.length?void 0:h[h.length-1],f=v,v=g.pop(),k){if(c)f=f.slice();else{for(var E={},w=Object.keys(f),T=0;T<w.length;T++){var S=w[T];E[S]=f[S]}f=E}for(var N=0,_=0;_<p.length;_++){var O=p[_][0],C=p[_][1];c&&(O-=N),c&&null===C?(f.splice(O,1),N++):f[O]=C}}d=o.index,u=o.keys,p=o.edits,c=o.inArray,o=o.prev}else{if(m=v?c?d:u[d]:void 0,null==(f=v?v[m]:y))continue;v&&h.push(m)}var P=void 0;if(!Array.isArray(f)){if(!s(f))throw new Error("Invalid AST Node: "+Object(i.a)(f));var M=l(n,f.kind,b);if(M){if((P=M.call(n,f,m,v,h,g))===a)break;if(!1===P){if(!b){h.pop();continue}}else if(void 0!==P&&(p.push([m,P]),!b)){if(!s(P)){h.pop();continue}f=P}}}void 0===P&&k&&p.push([m,f]),b?h.pop():(o={inArray:c,index:d,keys:u,edits:p,prev:o},u=(c=Array.isArray(f))?f:t[f.kind]||[],d=-1,p=[],v&&g.push(v),v=f)}while(void 0!==o);return 0!==p.length&&(y=p[p.length-1][1]),y}function s(e){return Boolean(e&&"string"==typeof e.kind)}function c(e){var n=new Array(e.length);return{enter:function(t){for(var i=0;i<e.length;i++)if(!n[i]){var r=l(e[i],t.kind,!1);if(r){var o=r.apply(e[i],arguments);if(!1===o)n[i]=t;else if(o===a)n[i]=a;else if(void 0!==o)return o}}},leave:function(t){for(var i=0;i<e.length;i++)if(n[i])n[i]===t&&(n[i]=null);else{var r=l(e[i],t.kind,!0);if(r){var o=r.apply(e[i],arguments);if(o===a)n[i]=a;else if(void 0!==o&&!1!==o)return o}}}}}function u(e,n){return{enter:function(t){e.enter(t);var i=l(n,t.kind,!1);if(i){var r=i.apply(n,arguments);return void 0!==r&&(e.leave(t),s(r)&&e.enter(r)),r}},leave:function(t){var i,r=l(n,t.kind,!0);return r&&(i=r.apply(n,arguments)),e.leave(t),i}}}function l(e,n,t){var i=e[n];if(i){if(!t&&"function"==typeof i)return i;var r=t?i.leave:i.enter;if("function"==typeof r)return r}else{var a=t?e.leave:e.enter;if(a){if("function"==typeof a)return a;var o=a[n];if("function"==typeof o)return o}}}},609:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=n.default},611:function(e,n,t){e.exports=t.p+"img/video-player/exit-fullscreen-61bae80dd5d14ca96323c859ee9037e7.svg"},621:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SessionStart"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"session"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SessionMsg"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sessionStart"},arguments:[{kind:"Argument",name:{kind:"Name",value:"session"},value:{kind:"Variable",name:{kind:"Name",value:"session"}}}],directives:[]}]}}],loc:{start:0,end:83}};t.loc.source={body:"mutation SessionStart($session: SessionMsg!) {\n  sessionStart(session: $session)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.SessionStart=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"SessionStart")},622:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VideoView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EventMsg"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}}],directives:[]}]}}],loc:{start:0,end:69}};t.loc.source={body:"mutation VideoView($event: EventMsg!) {\n  videoView(event: $event)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.VideoView=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"VideoView")},623:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetVideoThumbnails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGifPlay"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:216}};t.loc.source={body:"query GetVideoThumbnails($videoId: ID!) {\n  video(id: $videoId) {\n    use_gif\n    thumbnails {\n      default\n      defaultGif\n      defaultGifPlay\n    }\n    defaultThumbnails {\n      default\n      static\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.GetVideoThumbnails=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"GetVideoThumbnails")},624:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"onGifGeneratedForVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gifGeneratedForVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[]}]}}],loc:{start:0,end:92}};t.loc.source={body:"subscription onGifGeneratedForVideo($videoId: ID!) {\n  gifGeneratedForVideo(id: $videoId)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.onGifGeneratedForVideo=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"onGifGeneratedForVideo")},625:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateGifSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useGif"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useGifDefault"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateVideoGifSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"useGif"},value:{kind:"Variable",name:{kind:"Name",value:"useGif"}}},{kind:"Argument",name:{kind:"Name",value:"useGifDefault"},value:{kind:"Variable",name:{kind:"Name",value:"useGifDefault"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultGif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGifPlay"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video_settings"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:376}};t.loc.source={body:"mutation UpdateGifSettings(\n  $videoId: ID!\n  $useGif: Boolean\n  $useGifDefault: Boolean\n) {\n  updateVideoGifSettings(\n    videoId: $videoId\n    useGif: $useGif\n    useGifDefault: $useGifDefault\n  ) {\n    thumbnails {\n      defaultGif\n      defaultGifPlay\n    }\n    defaultThumbnails {\n      default\n      static\n    }\n    use_gif\n    owner {\n      video_settings\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.UpdateGifSettings=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"UpdateGifSettings")},639:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i="target-share-page-embed"},640:function(e,n,t){var i=t(796);e.exports=function(e){return i(e)&&e!=+e}},641:function(e,n,t){"use strict";t.r(n),t.d(n,"ViewersInsightsTimeline",function(){return E}),t.d(n,"ViewersEventsTimeline",function(){return w}),t.d(n,"ViewerTimeline",function(){return T});t(18),t(34);var i=t(20),r=t.n(i),a=t(4),o=t(17),s=t.n(o),c=t(0),u=t.n(c),l=t(11),d=t(28),p=t(362),f=t(45),m=t(290),v=t(174),h=t(642),g=t.n(h),y=t(258),b=t(411),k=t(383),E=(t(782),function(){var e=Object(l.useSelector)(v.a);return Object(l.useSelector)(v.b)&&e?u.a.createElement("div",{className:"viewerInsightsTimeline"},u.a.createElement(w,{selectedViewer:e}),u.a.createElement(T,{duration:e.videoDuration,plays:e.plays,skips:e.skips,replays:e.replays})):null}),w=function(e){var n=e.selectedViewer,t=Object(l.useDispatch)(),i=Object(l.useSelector)(v.a),a=function(e){return function(r){r.stopPropagation(),i!==n&&t(Object(p.b)(n)),t(Object(d.i)(e))}};return u.a.createElement("div",{className:"reaction viewer__events-timeline"},(n.events||[]).map(function(e,t){return u.a.createElement(y.a,r()({key:"event".concat(t)},e,{duration:n.videoDuration,onClick:a(e.ts)}))}))},T=function(e){var n=e.duration,t=e.plays,i=e.skips,r=e.replays,a=void 0===r?[]:r,o=Object(l.useDispatch)();if(!t)return null;var s=function(e){return function(n){n.stopPropagation(),o(Object(d.i)(e))}},c=Object(b.a)({plays:t,replays:a,skips:i,duration:n}).map(function(e,n){return u.a.createElement(y.b,{key:"".concat(e.type).concat(n),width:e.width,type:e.type,onClick:s(e.start)},e.replayBlocks.map(function(e,n){return u.a.createElement(y.b,{key:"replay".concat(n),width:e.width,type:e.type,onClick:s(e.start)})}))});return u.a.createElement("div",{className:"viewer__timeline"},c)};n.default=function(e){var n=Object(l.useDispatch)(),t=Object(l.useSelector)(m.b).id,i=Object(l.useSelector)(m.c),r=Object(l.useSelector)(v.c),o=Object(l.useSelector)(v.a),d=Object(c.useMemo)(function(){return Object(f.a)()},[]);Object(c.useEffect)(function(){r.length||d.query({query:g.a,variables:{videoId:t}}).then(function(e){n(Object(p.a)(e.data.insightsForVideo.viewers))}).catch(function(e){console.error(e)})},[n,d,r.length,t]);var h=function(e){return function(){n(Object(p.b)(e))}};return u.a.createElement(k.a,null,u.a.createElement(a.f,{alignment:"center",isSpread:!0},u.a.createElement(a.wb,{variant:"title"},r.length," Viewers"),u.a.createElement(a.j,{icon:u.a.createElement(a.A,null),onClick:e.onExit})),u.a.createElement("div",{className:"viewers"},r.map(function(e,n){return u.a.createElement("div",{className:s()("viewers__card",{selected:o===e}),key:"v-".concat(n),onClick:h(e)},u.a.createElement(y.d,{user:e.user,cta:e.cta,devices:e.devices}),u.a.createElement(y.g,{views:e.views}),u.a.createElement(w,{selectedViewer:e}),u.a.createElement(T,{duration:i,plays:e.plays,replays:e.replays,skips:e.skips}))}),u.a.createElement(y.f,null)))}},642:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetInsightsForVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insightsForVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"effectivePlayTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoDuration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ended"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"devices"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tzones"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tzone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"events"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"plays"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"skips"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replays"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:534}};t.loc.source={body:"query GetInsightsForVideo($videoId: ID!) {\n  insightsForVideo(videoId: $videoId) {\n    viewers {\n      effectivePlayTime\n      videoDuration\n      percentCompleted\n      cta\n      ended\n      devices\n      tzones\n      views\n      user {\n        id\n        avatar\n        name\n        tzone\n      }\n      events {\n        type\n        ts\n        content\n      }\n      plays {\n        start\n        end\n      }\n      skips {\n        start\n        end\n      }\n      replays {\n        start\n        end\n        total\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.GetInsightsForVideo=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"GetInsightsForVideo")},643:function(e,n,t){e.exports=t.p+"img/icons/new/cam-only-lg-e93eed1d77447c7fb29f4a7993fb1d71.svg"},644:function(e,n,t){e.exports=t.p+"img/icons/new/cam-only-rp-d89fa1d2bcc8fe0e77b0b524a05fb304.svg"},645:function(e,n,t){e.exports=t.p+"img/icons/new/screen-cam-lg-21bc37d568ac812ff624c5748c43cbbf.svg"},646:function(e,n,t){e.exports=t.p+"img/icons/new/screen-cam-rp-194611d06c685c5c66fdc951e296d0a8.svg"},647:function(e,n,t){e.exports=t.p+"img/icons/new/screen-only-lg-d35177692fde48542c6a9771ee247a62.svg"},648:function(e,n,t){e.exports=t.p+"img/icons/new/screen-only-rp-e0af038c5c531776604e8d3407e2911c.svg"},649:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendEmailVerificationEmail"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendEmailVerificationEmail"},arguments:[],directives:[]}]}}],loc:{start:0,end:69}};t.loc.source={body:"mutation SendEmailVerificationEmail {\n  sendEmailVerificationEmail\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.SendEmailVerificationEmail=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"SendEmailVerificationEmail")},668:function(e,n,t){"use strict";t(219),t(70),t(352);var i=t(6),r=t.n(i),a=t(9),o=t.n(a),s=t(8),c=t.n(s),u=t(7),l=t.n(u),d=t(10),p=t.n(d),f=t(0),m=t.n(f),v=t(11),h=t(28),g=t(50),y=t(41),b=t(57),k=t(39),E=t(21),w=t(35),T=t(115),S=(t(18),t(97),t(116),t(34),t(40),t(103),t(12)),N=t.n(S),_=t(2),O=t.n(_),C=t(1),P=t.n(C),M=t(17),I=t.n(M),V=t(86),x=t(16),D=t(168),L=t(188),A=t(75),j=t(15),R=t(77),F=t(114),U=t(214),B=(t(155),t(323),t(292)),q=t.n(B),G=t(49),W=[1,1.25,1.5,1.75,2],H=[{rate:1,icon:'\n<svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6.30078 1H3.91504C3.86035 1.12988 3.38184 3.2627 0.920898 3.2627V5.42969C2.43848 5.42969 3.43652 4.99902 3.72363 4.5H3.83301V15H6.30078V1Z" fill="white"/>\n<path d="M12.5574 4.5H9.78882L12.7146 9.75L9.69312 15H12.4617L14.3826 11.6709L16.324 15H19.0789L16.0369 9.75L19.0037 4.5H16.2488L14.3826 7.91797L12.5574 4.5Z" fill="white"/>\n</svg>\n'},{rate:1.25,icon:'\n<svg width="36" height="16" viewBox="0 0 36 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.68469 1.18631H3.36245C3.30921 1.31274 2.84344 3.38878 0.447998 3.38878V5.4981C1.92518 5.4981 2.89667 5.0789 3.17614 4.59316H3.2826V14.8137H5.68469V1.18631Z" fill="white"/>\n<path d="M10.6752 14.9734C11.5069 14.9734 12.179 14.2947 12.179 13.4496C12.179 12.6312 11.5069 11.9525 10.6752 11.9525C9.85674 11.9525 9.17138 12.6245 9.17138 13.4496C9.17138 14.2947 9.85009 14.9734 10.6752 14.9734Z" fill="white"/>\n<path d="M23.5573 12.6046H17.928V12.5247L20.2835 10.116C22.0202 8.31274 23.198 6.77567 23.198 4.98574C23.198 2.64354 21.3815 1 18.8263 1C15.9185 1 14.3149 3.12928 14.3149 5.53802H16.8434C16.8434 4.20057 17.4623 3.0827 18.7731 3.0827C19.9708 3.0827 20.6961 4.0076 20.6961 5.07224C20.6961 5.97719 20.1771 6.9154 18.7997 8.3327L14.2617 12.9106V14.8137H23.5573V12.6046Z" fill="white"/>\n<path d="M29.2042 4.59316H26.5093L29.3572 9.70342L26.4162 14.8137H29.111L30.9808 11.5732L32.8705 14.8137H35.5521L32.5911 9.70342L35.4789 4.59316H32.7973L30.9808 7.92015L29.2042 4.59316Z" fill="white"/>\n</svg>\n'},{rate:1.5,icon:'\n<svg width="34" height="16" viewBox="0 0 34 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.40425 1H3.05068C2.99673 1.12813 2.52467 3.23218 0.0969238 3.23218V5.36994C1.59403 5.36994 2.57862 4.94509 2.86186 4.45279H2.96976V14.8112H5.40425V1Z" fill="white"/>\n<path d="M10.462 14.973C11.305 14.973 11.9861 14.2852 11.9861 13.4287C11.9861 12.5992 11.305 11.9114 10.462 11.9114C9.63257 11.9114 8.93796 12.5925 8.93796 13.4287C8.93796 14.2852 9.62582 14.973 10.462 14.973Z" fill="white"/>\n<path d="M16.0914 8.56647C16.4758 8.18208 17.049 7.81118 18.0808 7.81118C19.4902 7.81118 20.3737 8.6946 20.3737 10.3401C20.3737 11.7293 19.6453 12.8892 18.2629 12.8892C16.9681 12.8892 16.4218 11.9451 16.2802 10.8054H13.7243C13.8053 13.3073 15.5451 15 18.2494 15C21.3582 15 22.9026 12.842 22.9026 10.3468C22.9026 7.66956 21.1627 5.86224 18.7349 5.86224C17.6829 5.86224 16.9074 6.28709 16.5769 6.65125H16.5162L16.9141 3.27264H22.4103V1H14.7831L13.9738 8.04721L16.0914 8.56647Z" fill="white"/>\n<path d="M27.4698 4.45279H24.7385L27.6249 9.63198L24.6441 14.8112H27.3753L29.2703 11.527L31.1856 14.8112H33.9033L30.9023 9.63198L33.8291 4.45279H31.1114L29.2703 7.82466L27.4698 4.45279Z" fill="white"/>\n</svg>\n'},{rate:1.75,icon:'\n<svg width="34" height="16" viewBox="0 0 34 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.40547 1H3.0519C2.99795 1.12813 2.52589 3.23218 0.0981445 3.23218V5.36994C1.59525 5.36994 2.57984 4.94509 2.86308 4.45279H2.97098V14.8112H5.40547V1Z" fill="white"/>\n<path d="M10.4633 14.973C11.3062 14.973 11.9874 14.2852 11.9874 13.4287C11.9874 12.5992 11.3062 11.9114 10.4633 11.9114C9.63379 11.9114 8.93919 12.5925 8.93919 13.4287C8.93919 14.2852 9.62705 14.973 10.4633 14.973Z" fill="white"/>\n<path d="M22.8583 1H13.6396V3.25915H20.0529L15.0085 14.8112H17.7465L22.8583 2.69268V1Z" fill="white"/>\n<path d="M27.4683 4.45279H24.7371L27.6234 9.63198L24.6427 14.8112H27.3739L29.2689 11.527L31.1841 14.8112H33.9019L30.9009 9.63198L33.8277 4.45279H31.1099L29.2689 7.82466L27.4683 4.45279Z" fill="white"/>\n</svg>\n'},{rate:2,icon:'\n<svg width="22" height="16" viewBox="0 0 22 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M10.2674 12.7611H4.56223V12.6802L6.94952 10.2389C8.70963 8.41137 9.90328 6.85357 9.90328 5.0395C9.90328 2.6657 8.06223 1 5.47264 1C2.52563 1 0.900386 3.158 0.900386 5.59923H3.46301C3.46301 4.24374 4.09017 3.11079 5.41869 3.11079C6.63256 3.11079 7.36763 4.04817 7.36763 5.12717C7.36763 6.04432 6.84162 6.99518 5.44566 8.4316L0.846436 13.0713V15H10.2674V12.7611Z" fill="white"/>\n<path d="M14.72 4.64162H11.9888L14.8751 9.82081L11.8944 15H14.6256L16.5206 11.7158L18.4358 15H21.1535L18.1526 9.82081L21.0793 4.64162H18.3616L16.5206 8.01349L14.72 4.64162Z" fill="white"/>\n</svg>\n'}],z=W.slice().sort();function Y(e){var n=q()(z,e);if(-1!==n){var t=n+1;t>=z.length&&(t=0),G.b.dispatch(Object(h.h)(z[t]))}}var J=t(100),$=t(278),K=t.n($),Q=t(210),X=t(174),Z=t(4),ee=t(30),ne=t.n(ee);t(989);function te(e){return m.a.createElement("div",{className:I()("video-player-button-hover-tag",e.position,{hovered:e.hovered})},e.text)}t(990);function ie(e){var n=Object(f.useState)(!1),t=ne()(n,2),i=t[0],r=t[1],a=Object(f.useState)(!1),o=ne()(a,2),s=o[0],c=o[1],u=i&&!e.seeking,l=s&&!e.seeking;return m.a.createElement("button",{className:I()("control-bar-button",e.className,{hovered:u}),onClick:function(n){e.onClick(n),n.detail&&document.activeElement.blur(),r(!1)},onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},onFocus:function(){return c(!0)},onBlur:function(){return c(!1)}},e.children,m.a.createElement(te,{text:e.hoverTagText,hovered:u||l,position:"top"}))}t(991);function re(e){var n=e.fullScreen?"Exit Full Screen (f)":"Enter Full Screen (f)";return m.a.createElement(ie,{className:"video-player-fullscreen-button",hoverTagText:n,seeking:e.seeking,onClick:e.onClick},m.a.createElement(Z.i,{className:"control-bar-button-icon",color:"white",icon:e.fullScreen?m.a.createElement(Z.O,null):m.a.createElement(Z.N,null)}))}t(992);function ae(e){var n=e.paused?"Play (k)":"Pause (k)";return m.a.createElement(ie,{className:"video-player-play-button",hoverTagText:n,seeking:e.seeking,onClick:e.onClick},m.a.createElement(Z.i,{color:"white",className:"control-bar-button-icon",icon:e.paused?m.a.createElement(Z.eb,null):m.a.createElement(Z.bb,null)}))}var oe=t(27),se=t.n(oe);t(112),t(58),t(350),t(159);t(993);var ce={onRateChange:se.a.func};function ue(e){return m.a.createElement(ie,{className:"video-player-playback-rate-control",hoverTagText:"Speed (s)",seeking:e.seeking,onClick:Y.bind(this,e.playbackRate)},m.a.createElement("span",{className:"current-rate control-bar-button-icon"},"".concat(e.playbackRate%1!=0?function(e,n){return e.toString().match(new RegExp("^-?\\d+(?:.\\d{0,"+(n||-1)+"})?"))[0]}(e.playbackRate,1):e.playbackRate,"×")))}ue.propTypes=ce;t(372);var le=t(640),de=t.n(le),pe=t(277),fe=t.n(pe),me=t(273),ve=t.n(me),he=(t(1012),function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"parent",null),P()(O()(t),"tooltip",null),P()(O()(t),"state",{dimensions_cached:!1,half_tooltip_width:null,tooltip_width:null}),P()(O()(t),"onClick",function(e){e.stopPropagation();var n=t.props,i=n.currentTime,r=n.duration,a=n.trimRanges,o=Object(J.c)(1e3*i,1e3*r,a);t.props.requestVideoPlayerPause(),t.props.updateCurrentTrimRangeCreator(o)}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.getTooltipPosition(),t={};return""!==n&&(t.transform="translateX(".concat(n,"px)"),t=ve()(t)),m.a.createElement("div",{className:this.constructor.className,ref:function(n){null!=n&&(e.tooltip=n,e.parent=n.parentNode)},style:t,onMouseDown:this.preventPropagation,onMouseMove:this.preventPropagation,onMouseUp:this.preventPropagation},m.a.createElement("div",{className:"add-trim-range-tooltip",onClick:this.onClick},m.a.createElement("p",null,"Start trimming")))}},{key:"componentMountedToParent",value:function(e){return e&&null!=this.parent}},{key:"shouldComponentUpdate",value:function(e,n){return this.props.currentTime!==e.currentTime&&this.componentMountedToParent(n.dimensions_cached)||!this.state.dimensions_cached&&n.dimensions_cached}},{key:"componentDidMount",value:function(){if(null!=this.tooltip){var e=this.tooltip.getBoundingClientRect().width;this.setState({dimensions_cached:!0,half_tooltip_width:e/2,tooltip_width:e})}}},{key:"preventPropagation",value:function(e){e.stopPropagation()}},{key:"getTooltipPosition",value:function(){if(!this.componentMountedToParent(this.state.dimensions_cached))return"";var e=this.state,n=e.half_tooltip_width,t=e.tooltip_width,i=this.props.getPercent(),r=this.parent.getBoundingClientRect().width,a=r*i+3.5-n;return a=Math.max(a,0),a=Math.min(a,r-t+3.5)}}]),n}(f.Component));P()(he,"className","video-player-add-trim-range-tooltip-container");var ge=Object(v.connect)(function(e){var n=e.trimming,t=n.current_trim_range,i=n.trim_ranges,r=e.video_player,a=r.duration;return{currentTime:r.current_time,currentTrimRange:t,duration:a,trimRanges:i}},function(e){return{requestVideoPlayerPause:function(){return e(Object(h.f)())},updateCurrentTrimRangeCreator:function(n){return e(Object(b.h)(n))}}})(he);function ye(e,n){return"".concat(be(e,n),"%")}function be(e,n){var t=e/n||0;return 100*(t>=1?1:t)}t(1013);var ke=function(e){function n(){return r()(this,n),o()(this,c()(n).apply(this,arguments))}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.commentMarkers,t=e.duration,i=n.map(function(e,n){var i={left:ye(e.time,t)};return m.a.createElement("span",{key:n,className:"comment-marker",style:i})});return m.a.createElement("div",{className:"video-player-comment-bar",onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut},i)}}]),n}(f.Component),Ee=Object(v.connect)(function(e){return{commentMarkers:e.video_player.comment_markers}})(ke),we=t(167),Te=(t(396),t(110)),Se=t.n(Te),Ne=t(380),_e=(t(1014),{type:se.a.oneOf(Object.values(Q.d)).isRequired,forceShow:se.a.bool.isRequired}),Oe=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"videoPlayerWidth",0),P()(O()(t),"onMouseDown",function(e){e.stopPropagation(),e.preventDefault()}),P()(O()(t),"onClick",function(e){var n=e.event,i=t.props,r=i.id,a=i.type,o=i.time;n.stopPropagation(),n.preventDefault(),t.props.onClick({id:r,type:a,time:o})}),P()(O()(t),"onClickDelete",function(e){var n=t.props,i=n.id,r=n.type,a=n.time;e.stopPropagation(),e.preventDefault(),t.props.onClickDelete({id:i,type:r,time:a})}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.type,i=n.username,r=n.showDelete,a=n.time,o=n.duration;this._updateOffset();var s=Math.round(a/o*100),c=14,u={};s<1?(s=0,c=0,u.left="8px",u.transform="none"):s>=99?(s=100,c=32):s>=95&&(u.left="-50%");var l={left:"calc(".concat(s,"% - ").concat(c,"px)")};return m.a.createElement("div",{ref:function(n){return e.container=n},className:"video-player-timeline-emoji",style:l},m.a.createElement(Ne.a,{type:t,onClick:this.onClick,onMouseDown:this.onMouseDown},m.a.createElement("div",{onMouseDown:this._stopPropagation,onClick:r?this.onClickDelete:void 0,className:"video-player-timeline-emoji-username ".concat(r?"can-delete":""),style:u},i.length>18?"".concat(i.substr(0,18),"…"):i)))}},{key:"componentDidMount",value:function(){this.props.playSelectionAnimation?this._playSelectionAnimation():this._playBounceAnimation(),this.inputElement&&this.inputElement.focus(),this.videoPlayerWidth=document.querySelector(".video-player-container").offsetWidth}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.forceShow&&e.forceShow&&this._playAnimation("forceFadeIn"),this.props.forceShow&&!e.forceShow&&this._playAnimation("forceFadeOut"),!this.props.playSelectionAnimation&&e.playSelectionAnimation&&this._playSelectionAnimation()}},{key:"_stopPropagation",value:function(e){e.stopPropagation()}},{key:"_updateOffset",value:function(){var e=this.props,n=e.time,t=e.duration,i=e.containerDimensions;this._offset=n/t*i.width-14}},{key:"_playBounceAnimation",value:function(){var e=this,n=this.props.rise||0;this.bounceUp=Se()({targets:this.container.childNodes[0],translateY:{value:-5-n,duration:800,elasticity:600},scale:{value:[.89,1],duration:300,easing:[0,2.06,.62,2.1]}});var t=1/Se.a.speed;this.delayedFadeout=window.setTimeout(function(){e.props.forceShow||e._playAnimation("bounceFadeOut")},t*(this.bounceUp.duration+1e3))}},{key:"_playAnimation",value:function(e){window.clearTimeout(this.delayedFadeout),this.currentAnimation&&this.currentAnimation.pause(),"bounceFadeOut"==e&&(this.currentAnimation=Se()({targets:this.container.childNodes[0],duration:400,opacity:0,easing:"linear"})),"forceFadeIn"==e&&(this.currentAnimation=Se()({targets:this.container.childNodes[0],duration:200,opacity:1,translateY:-5,scale:"+=0",easing:"linear"})),"forceFadeOut"==e&&(this.currentAnimation=Se()({targets:this.container.childNodes[0],duration:200,opacity:0,translateY:-5,scale:"+=0",easing:"linear"}))}},{key:"_playSelectionAnimation",value:function(){var e=this.props.rise||0,n=this.props.time/this.props.duration,t=this.props.containerDimensions.width*n-this._offset-14,i=isNaN(n)?0:n*this.props.containerDimensions.width,r=i-this._offset-this.props.containerDimensions.x;i>this.props.containerDimensions.width/2&&(r-=28);var a=this.container.childNodes[0];Se.a.timeline().add({targets:this.container,duration:1,zIndex:10}).add({targets:a,duration:300,easing:"easeOutQuad",translateX:[r,t],translateY:[-19-e,-19-e],rotate:[0,r<t?20:-20],scale:[1.34]}).add({targets:a,duration:288,easing:"easeOutQuad",translateX:"+=0",translateY:-5-e,scale:[1.34,1],rotate:0}).add({targets:this.container,duration:1,zIndex:0})}}]),n}(f.Component);Oe.propTypes=_e;var Ce=Object(v.connect)(null,function(e){return{onClickDelete:function(n){return e(Object(A.c)(n))},onClick:function(n){return e(Object(A.a)(n))}}})(Oe),Pe=(t(1015),function(e){function n(e){var t;r()(this,n),t=o()(this,c()(n).call(this,e));var i=0;try{i=window.top.document.getElementsByClassName("export-bar-emoji-bar-container")[0].clientWidth}catch(e){}return t.state={toolbarWidth:i},t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.reactions,i=n.localReactions,r=n.animateReactions,a=n.controlBarExpanded,o=n.containerDimensions,s=n.currentTime,c=n.duration,u=n.reactionName,l=n.trimRanges,d=void 0===l?[]:l,p=t.concat(i.map(function(e){return N()({},e,{can_delete:!!e.id,username:u||"anonymous",playSelectionAnimation:!0})})),f=1e3*s,v=p.map(function(n){var t=Object(J.a)(n.time,d);if(isNaN(t))return null;var i=0;if(e.state.toolbarWidth&&!a){var u=o.width,l=u/2-e.state.toolbarWidth/2,p=l+e.state.toolbarWidth,v=s/c*u;v>=l&&v<=p&&(i=10)}return(f>=t||a)&&m.a.createElement(Ce,{key:n.localId||n.id,id:n.id,playSelectionAnimation:r.indexOf(n.localId)>-1,containerDimensions:o,rise:i,type:n.type,forceShow:a,time:t,username:n.username,showDelete:n.can_delete,duration:1e3*c})});return m.a.createElement("div",{className:"emoji-timeline",ref:function(n){return e.timeline=n}},m.a.createElement("div",{className:"emoji-timeline-actual"},v),m.a.createElement("div",{className:"emoji-timeline-decorative"},v))}}]),n}(m.a.Component)),Me=Object(v.connect)(function(e){var n=e.user,t=n.is_logged_in,i=n.current.first_name,r=e.video_player.video.processing_information.trim_ranges;return{isLoggedIn:t,reactionName:i||Object(we.a)(),trimRanges:r}})(Pe),Ie=t(150),Ve=t.n(Ie),xe=(t(1016),function(e){function n(){return r()(this,n),o()(this,c()(n).apply(this,arguments))}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.bufferedParts,t=e.duration;if(0===n.length)return null;var i=n[n.length-1].end;i>t&&(i=t);var r={width:ye(i,t)},a=Ve()(n,function(e,n){var t=e.start,r=e.end;return m.a.createElement("div",{className:"buffered-part",style:{left:ye(t,i),width:ye(r-t,i)},key:n})});return m.a.createElement("div",{className:"video-player-load-progress-bar",style:r},a)}}]),n}(f.Component)),De=Object(v.connect)(function(e){return{bufferedParts:e.video_player.buffered_parts}})(xe),Le=(t(1017),function(e){var n=e.onMouseMove,t=e.onMouseOut,i=e.progress,r=e.slider,a=e.sliderWidth,o=e.inTrimMode;if(null==r)return null;var s=ve()({transform:"translateX(-".concat((1-i)*a,"px)")});return m.a.createElement("div",{className:"video-player-play-progress-bar-container",onMouseMove:n,onMouseOut:t},m.a.createElement("div",{className:"video-player-play-progress-bar ".concat(o?"trim-mode":""),style:s}))}),Ae=(t(1018),{onScrubberOver:se.a.func,onScrubberMove:se.a.func,onScrubberOut:se.a.func}),je=function(e){function n(){return r()(this,n),o()(this,c()(n).apply(this,arguments))}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.controlBarExpanded,i=n.progress,r=n.slider,a=n.sliderWidth;if(!t||null==r)return null;var o=this.scrubber?this.scrubber.clientWidth:0,s=ve()({transform:"translateX(".concat(i*a-o/2,"px)")});return m.a.createElement("div",{className:"video-player-play-progress-scrubber-container",style:s},m.a.createElement("span",{ref:function(n){return e.scrubber=n},className:"video-player-play-progress-scrubber",onMouseOver:this.props.onScrubberOver,onMouseMove:this.props.onScrubberMove,onMouseOut:this.props.onScrubberOut}))}}]),n}(f.Component);je.propTypes=Ae;var Re=je,Fe=(t(85),t(13)),Ue=t.n(Fe),Be=(t(43),t(19)),qe=t.n(Be),Ge=(t(1019),"left"),We=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"mouseLeaveTimeout",null),P()(O()(t),"state",{show_scrubber_time:!1}),P()(O()(t),"handleMouseDown",function(e){e.stopPropagation(),window.clearTimeout(t.mouseLeaveTimeout),document.addEventListener("mousemove",t.handleMouseMove,!0),document.addEventListener("mouseup",t.handleMouseUpWithoutUpdate,!0),t.props.onMouseDown()}),P()(O()(t),"handleMouseMove",function(e){document.addEventListener("mouseup",t.handleMouseUpWithUpdate,!0),document.removeEventListener("mouseup",t.handleMouseUpWithoutUpdate,!0),t.props.onUpdateTime(e,t.props.half)}),P()(O()(t),"handleMouseUpWithUpdate",function(e){t.handleMouseUp(e,!0)}),P()(O()(t),"handleMouseUpWithoutUpdate",function(e){t.handleMouseUp(e,!1)}),P()(O()(t),"handleTimeChange",function(e){t.props.onUpdateTime(null,t.props.half,e),t.onMouseLeave()}),P()(O()(t),"onMouseLeave",qe()(Ue.a.mark(function e(){return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.clearTimeout(t.mouseLeaveTimeout),e.next=3,new Promise(function(e){t.mouseLeaveTimeout=window.setTimeout(e,y.g)});case 3:if(!t.scrubber||null==t.scrubber.querySelector(":hover")){e.next=5;break}return e.abrupt("return");case 5:t.props.onMouseLeave(t.props.half);case 6:case"end":return e.stop()}},e)}))),P()(O()(t),"onMouseEnter",function(){t.props.onMouseEnter(t.props.half)}),P()(O()(t),"showScrubberTime",function(){t.setState({show_scrubber_time:t.props.expandScrubber})}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.expandScrubber,i=n.half,r=n.visualHalf,a="";return t&&(a="expanded"),m.a.createElement("div",{className:"video-player-trim-flag ".concat(i," visual-").concat(r," ").concat(a),onMouseDown:this.handleMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},m.a.createElement("div",{className:"flag-scrubber",ref:function(n){return e.scrubber=n},onTransitionEnd:this.showScrubberTime}),m.a.createElement("span",{className:"flag-pole"}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.expandScrubber!==this.props.expandScrubber&&window.clearTimeout(this.mouseLeaveTimeout)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.mouseLeaveTimeout)}},{key:"componentDidMount",value:function(){this.showScrubberTime()}},{key:"handleMouseUp",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUpWithUpdate,!0),document.removeEventListener("mouseup",this.handleMouseUpWithoutUpdate,!0),this.onMouseLeave(),n&&this.props.onUpdateTime(e,this.props.half)}}]),n}(f.Component),He=(t(1020),function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"boundingRange",Object(J.d)(t.props.currentTrimRange,t.props.trimRanges,1e3*t.props.duration)),P()(O()(t),"handleFlagMouseEnter",function(e){var n=e===Ge?y.h:y.i;t.props.updateSelectedTrimBoundCreator(n)}),P()(O()(t),"handleFlagMouseDown",function(){t.props.requestVideoPlayerPause()}),P()(O()(t),"handleFlagMouseLeave",function(e){var n=e===Ge?y.h:y.i;t.props.selectedTrimBound===n?t.props.updateSelectedTrimBoundCreator(null):t.props.updateSelectedTrimBoundCreator(n)}),P()(O()(t),"handleFlagUpdateTime",function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=N()({},t.props.currentTrimRange),a=i;null!=e&&null==i&&(a=1e3*t.props.getNewTime(e));var o=n===Ge,s=Object(J.f)(a,r,t.boundingRange,o,y.d);o?r.from=s:r.to=s,t.props.updateCurrentTrimRangeCreator(r),t.props.requestVideoPlayerCurrentTime(s/1e3)}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.currentTrimRange,t=e.duration,i=e.selectedTrimBound,r=e.slider,a=(n.to-n.from)/1e3/t,o=n.from/1e3/t*r.clientWidth+Math.round(2.5),s={transform:"translateX(".concat(o,"px)")},c=a*r.clientWidth-7+1,u={width:"".concat(c,"px")},l="right",d="right",p=r.getBoundingClientRect().left+o,f=p+c;p>f-26&&(l=Ge),f>window.innerWidth-26&&(d=Ge);var v=i===y.h,h=i===y.i;return m.a.createElement("div",{className:"video-player-trim-range-edit-bar",style:ve()(s)},m.a.createElement(We,{visualHalf:l,half:Ge,time:n.from,boundingRange:this.boundingRange,currentTrimRange:n,expandScrubber:v,onClick:this.handleClick,onMouseEnter:this.handleFlagMouseEnter,onMouseLeave:this.handleFlagMouseLeave,onMouseDown:this.handleFlagMouseDown,onUpdateTime:this.handleFlagUpdateTime,updateSelectedTrimBoundCreator:b.i}),m.a.createElement("div",{style:u,className:this.constructor.gradientClassName}),m.a.createElement(We,{visualHalf:d,half:"right",time:n.to,boundingRange:this.boundingRange,currentTrimRange:n,expandScrubber:h,onClick:this.handleClick,onMouseEnter:this.handleFlagMouseEnter,onMouseLeave:this.handleFlagMouseLeave,onMouseDown:this.handleFlagMouseDown,onUpdateTime:this.handleFlagUpdateTime,updateSelectedTrimBoundCreator:b.i}))}},{key:"handleClick",value:function(e){e.preventDefault()}}]),n}(f.Component));P()(He,"gradientClassName","trim-range-edit-gradient");var ze=Object(v.connect)(function(e){var n=e.video_player.duration,t=e.trimming;return{currentTrimRange:t.current_trim_range,duration:n,selectedTrimBound:t.selected_trim_bound,trimRanges:t.trim_ranges}},function(e){return{requestVideoPlayerCurrentTime:function(n){return e(Object(h.b)(n))},requestVideoPlayerPause:function(){return e(Object(h.f)())},updateCurrentTrimRangeCreator:function(n){return e(Object(b.h)(n))},updateSelectedTrimBoundCreator:function(n){return e(Object(b.i)(n))}}})(He),Ye=(t(63),t(80)),Je=t.n(Ye),$e=(t(1021),function(e){function n(){return r()(this,n),o()(this,c()(n).apply(this,arguments))}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.active,t=e.selected,i=e.style,r=n?"":"inactive",a=null;return t&&(a=m.a.createElement("div",{className:"edit-trim-range-tooltip-container",onClick:this.props.onEditClick},m.a.createElement("div",{className:"edit-trim-range-tooltip"},m.a.createElement("p",null,"Edit Trim")))),m.a.createElement("div",{className:"trim-range-marker-container",style:i},m.a.createElement("span",{className:"".concat("trim-range-marker"," ").concat(r),onClick:this.props.onClick,onMouseDown:this.stopPropagation,onMouseMove:this.stopPropagation,onMouseUp:this.stopPropagation}),a)}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"handleClickOutside",value:function(e){this.props.selected&&(e.target.className.includes("trim-range-marker")||Object(F.g)(e.target,"trim-range-marker",3)||this.props.onDeselect())}}]),n}(f.Component)),Ke=Je()($e),Qe=(t(1022),function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"onDeselectMarker",function(){null!=t.props.selectedTrimRange&&t.props.updateSelectedTrimRangeCreator(null)}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.currentTrimRange,i=n.duration,r=n.selectedTrimRange,a=n.trimRanges.map(function(n){if(null!=t&&n.id===t.id)return null;var a=n.from,o=n.id,s=n.to,c=be(a/1e3,i),u=be(s/1e3,i),l={left:ye(a/1e3,i),width:"".concat(u-c,"%")};return m.a.createElement(Ke,{key:o,style:l,active:null==r||r.id===n.id,selected:null!=r&&r.id===n.id,onClick:function(t){t.stopPropagation(),e.props.updateSelectedTrimRangeCreator(n)},onEditClick:function(t){t.stopPropagation(),e.props.updateCurrentTrimRangeCreator(n)},onDeselect:e.onDeselectMarker})}).filter(Boolean);return m.a.createElement("div",{className:"video-player-trim-ranges-bar"},a)}}]),n}(f.Component)),Xe=Object(v.connect)(function(e){var n=e.trimming;return{currentTrimRange:n.current_trim_range,selectedTrimRange:n.selected_trim_range,trimRanges:n.trim_ranges}},function(e){return{updateCurrentTrimRangeCreator:function(n){return e(Object(b.h)(n))},updateSelectedTrimRangeCreator:function(n){return e(Object(b.j)(n))}}})(Qe),Ze=t(641),en=t(329),nn=(t(1023),function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"state",{play_after_seek_end:!1}),P()(O()(t),"onWindowResize",fe()(function(){t.forceUpdate()},100)),P()(O()(t),"getNewTime",function(e){var n=t.props,i=n.currentTime,r=n.duration;if(!t.slider)return i;var a=t.slider.calculateDistance(e)*r;return de()(a)?i:Math.min(a,r-.01)}),P()(O()(t),"onMouseDown",function(){document.addEventListener("mouseup",t.onMouseUp,!1);var e=t.props.paused;t.setState({play_after_seek_end:!e})}),P()(O()(t),"onMouseMove",function(e){t.changeTime(e),t.props.updateVideoPlayerSeeking(!0),t.props.paused||t.props.onPause()}),P()(O()(t),"onMouseUp",function(e){document.removeEventListener("mouseup",t.onMouseUp),t.changeTime(e),t.props.updateVideoPlayerSeeking(!1),t.state.play_after_seek_end&&t.props.onPlay(),t.setState({play_after_seek_end:!1})}),P()(O()(t),"getPercent",function(){var e=t.props,n=e.currentTime,i=e.duration;return Math.min(n/i,1)}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.controlBarExpanded,i=n.currentTime,r=n.currentTrimRange,a=n.duration,o=n.fullScreen,s=n.inTrimMode,c=n.isMainVideoOnSharePage,u=n.localReactions,l=n.reactions,d=n.selectedTrimRange,p=n.useEmojis,f=n.isViewerInsightsActive,v=(100*this.getPercent()).toFixed(2);return m.a.createElement("div",{ref:function(n){return e.container=n},className:"video-player-seek-bar ".concat(s?"in-trim-mode":"")},m.a.createElement(en.a,{ref:function(n){return e.slider=n},getPercent:this.getPercent,label:"Video Progress",onBlur:this.onMouseUp,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,valueNow:v},m.a.createElement(De,{duration:a}),m.a.createElement(Le,{currentTime:i,inTrimMode:s}),c&&!s&&!o&&m.a.createElement(Ee,{duration:a}),c&&s&&m.a.createElement(Xe,{duration:a}),c&&s&&null!=r&&m.a.createElement(ze,{getNewTime:this.getNewTime,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp}),m.a.createElement(Re,{controlBarExpanded:t}),!s&&!f&&p&&m.a.createElement(Me,{reactions:l,localReactions:u,controlBarExpanded:t,containerDimensions:this.props.containerDimensions,animateReactions:this.props.animateReactions,currentTime:i,duration:a}),m.a.createElement(Ze.ViewersInsightsTimeline,null)),m.a.createElement("div",{className:"seek-bar-background"}),c&&s&&null==r&&null==d&&m.a.createElement(ge,{getPercent:this.getPercent}))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"changeTime",value:function(e){var n=this.props,t=n.currentTime,i=n.currentTrimRange,r=n.duration,a=n.inTrimMode,o=n.trimRanges,s=this.getNewTime(e);a&&null==i&&(s=Object(J.e)(Math.round(1e3*t),Math.round(1e3*s),Math.round(1e3*r),o,i,!0)/1e3),this.props.requestVideoPlayerCurrentTime(s)}}]),n}(f.Component)),tn=Object(v.connect)(function(e){var n=e.trimming,t=n.current_trim_range,i=n.in_trim_mode,r=n.selected_trim_range,a=n.trim_ranges,o=e.video_player,s=o.reactions,c=o.local_reactions,u=o.video.use_emojis;return{currentTrimRange:t,inTrimMode:i,selectedTrimRange:r,trimRanges:a,localReactions:c,reactions:s,hideReaction:o.hide_reaction,animateReactions:o.animate_reactions,useEmojis:u,isViewerInsightsActive:Object(X.b)(e)}},function(e){return{requestVideoPlayerCurrentTime:function(n){return e(Object(h.b)(n))},updateVideoPlayerSeeking:function(n){return e(Object(h.T)(n))},updateVideoPlayerLocalReactions:function(n){return e(Object(h.E)(n))},onHideReaction:function(n){return e(Object(h.C)(n))}}})(nn);t(1024);function rn(e){return m.a.createElement(ie,{className:I()("step-back-five-button",{"crowded-embed":e.useEmojis&&!e.isMainVideoOnSharePage}),hoverTagText:"Step Back (j)",seeking:e.seeking,onClick:e.onClick},m.a.createElement(Z.i,{color:"white",className:"control-bar-button-icon",icon:m.a.createElement(Z.gb,null)}))}t(1025);function an(e){return m.a.createElement(ie,{className:I()("step-forward-five-button",{"crowded-embed":e.useEmojis&&!e.isMainVideoOnSharePage}),hoverTagText:"Step Forward (l)",seeking:e.seeking,onClick:e.onClick},m.a.createElement(Z.i,{color:"white",className:"control-bar-button-icon",icon:m.a.createElement(Z.M,null)}))}t(1026);function on(e){var n=e.theaterMode?"Default Mode (t)":"Theater Mode (t)";return m.a.createElement(ie,{className:"video-player-theater-mode-button",hoverTagText:n,seeking:e.seeking,onClick:e.onClick},m.a.createElement(Z.i,{color:"white",className:"control-bar-button-icon",icon:e.theaterMode?m.a.createElement(Z.E,null):m.a.createElement(Z.F,null)}))}var sn=t(151),cn=(t(1027),function(e){function n(){return r()(this,n),o()(this,c()(n).apply(this,arguments))}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.currentTime,t=e.className,i=void 0===t?"":t,r=e.duration;return m.a.createElement("div",{className:I()("video-player-time-display",i)},m.a.createElement("span",null,Object(sn.c)(Math.round(n))),m.a.createElement("span",{className:"divider"},"/"),m.a.createElement("span",null,Object(sn.c)(Math.round(r))))}}]),n}(f.Component));function un(e){var n=e.muted?"Unmute (m)":"Mute (m)";return m.a.createElement(ie,{className:"video-player-volume-button",hoverTagText:n,seeking:e.seeking,onClick:e.onButtonClick},(e.muted||0===e.volume)&&m.a.createElement(Z.i,{color:"white",icon:m.a.createElement(Z.ub,null)}),e.volume<=.5&&!e.muted&&m.a.createElement(Z.i,{color:"white",icon:m.a.createElement(Z.tb,null)}),e.volume>.5&&!e.muted&&m.a.createElement(Z.i,{color:"white",icon:m.a.createElement(Z.vb,null)}))}t(1028);var ln=function(e){var n={width:e.percentage};return m.a.createElement(f.Fragment,null,m.a.createElement("div",{className:"slider-extended-background"}),m.a.createElement("div",{className:"video-player-volume-level",style:n},m.a.createElement("span",null)))},dn=(t(1029),{onVolumeChange:se.a.func}),pn=100,fn=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"state",{movingSlider:!1,mouseEntered:!1}),P()(O()(t),"onMouseSliderMove",function(e){if(t.setState({movingSlider:!0}),t.props.onVolumeChange){var n=t.slider.calculateDistance(e);t.props.onVolumeChange(n)}}),P()(O()(t),"onMouseSliderUp",function(){t.setState({movingSlider:!1},function(){t.state.mouseEntered||t.deactivate()})}),P()(O()(t),"onMouseEnter",function(){t.setState({mouseEntered:!0}),t.props.seeking||t.activate()}),P()(O()(t),"onMouseLeave",function(){t.setState({mouseEntered:!1},function(){t.state.movingSlider||t.deactivate()})}),P()(O()(t),"activate",function(){window.clearTimeout(t.deactivateAnimationTimeout),t.props.updateVideoPlayerVolumeControlActive(!0)}),P()(O()(t),"deactivate",function(){t.deactivateAnimationTimeout=window.setTimeout(function(){t.props.updateVideoPlayerVolumeControlActive(!1)},pn)}),P()(O()(t),"getPercent",function(){var e=t.props,n=e.muted,i=e.volume;return n?0:i}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.muted,i=n.onButtonClick,r=n.seeking,a=n.volume,o=this.state,s=o.mouseEntered,c=o.movingSlider,u=(100*a).toFixed(2),l=s&&!r;return m.a.createElement("div",{className:I()("video-player-volume-control",{hovered:l||c}),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},m.a.createElement(un,{muted:t,onButtonClick:i,volume:a}),m.a.createElement(en.a,{ref:function(n){return e.slider=n},getPercent:this.getPercent,label:"Volume Level",onMouseMove:this.onMouseSliderMove,onMouseUp:this.onMouseSliderUp,valueNow:u},m.a.createElement(ln,null)))}}]),n}(f.Component);fn.propTypes=dn;var mn=Object(v.connect)(null,function(e){return{updateVideoPlayerVolumeControlActive:function(n){return e(Object(h.Y)(n))}}})(fn),vn=t(488),hn=t(172),gn=(t(1031),function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"handleTogglePlay",function(){t.props.paused?t.props.requestVideoPlayerPlay():t.props.requestVideoPlayerPause()}),P()(O()(t),"onStepForwardFive",function(){t.props.requestVideoPlayerCurrentTime(t.props.currentTime+5)}),P()(O()(t),"onStepBackFive",function(){t.props.requestVideoPlayerCurrentTime(t.props.currentTime-5)}),P()(O()(t),"handleTheaterModeClick",function(){var e=t.props,n=e.currentUserIsOwner,i=e.theaterMode,r=e.inTrimMode,a=!r&&!i;n||(document.cookie="".concat(hn.e," = ").concat(a,";")),t.props.updateTheaterMode(a,r),j.h(x.yc,{currentUserIsOwner:n,on:a})}),P()(O()(t),"handleToggleFullscreen",function(){t.props.fullScreen?t.props.requestVideoPlayerLeaveFullScreen():t.props.requestVideoPlayerEnterFullScreen(),j.h(x.gb,{from_double_click:!1,full_screen:t.props.fullScreen})}),P()(O()(t),"handleToggleMute",function(){t.props.muted?t.props.requestVideoPlayerUnmute():t.props.requestVideoPlayerMute()}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.controlsActive,i=n.currentTime,r=n.currentUserIsOwner,a=n.duration,o=n.ended,s=n.fullScreen,c=n.inTrimMode,u=n.isMainVideoOnSharePage,l=n.muted,d=n.paused,p=n.playbackRate,f=n.seeking,v=n.theaterMode,h=n.useEmojis,g=n.volume,y=n.volumeControlActive,b=n.isViewerInsightsActive,k=t||c||b,E=!c&&h&&u&&s||!u&&!o&&h,w=null,T=null;return c||(w=m.a.createElement(re,{fullScreen:s,seeking:f,onClick:this.handleToggleFullscreen}),T=m.a.createElement(ue,{playbackRate:p,seeking:f,onRateChange:this.props.requestVideoPlayerPlaybackRate})),m.a.createElement("div",{className:"video-player-control-bar-container"},m.a.createElement("div",{className:I()("control-bar",k&&"expanded"),ref:function(n){return e.controlBar=n}},m.a.createElement(tn,{controlBarExpanded:k,currentTime:i,currentUserIsOwner:r,duration:a,isMainVideoOnSharePage:u,fullScreen:s,paused:d,onPause:this.props.requestVideoPlayerPause,onPlay:this.props.requestVideoPlayerPlay,containerDimensions:this.props.containerDimensions}),m.a.createElement("div",{className:"bottom-controls"},m.a.createElement("div",{className:"left-controls"},m.a.createElement(ae,{paused:d,onClick:this.handleTogglePlay,seeking:f}),m.a.createElement(rn,{onClick:this.onStepBackFive,isMainVideoOnSharePage:u,seeking:f,useEmojis:h}),m.a.createElement(an,{onClick:this.onStepForwardFive,isMainVideoOnSharePage:u,seeking:f,useEmojis:h}),m.a.createElement(mn,{muted:l,volume:g,seeking:f,onButtonClick:this.handleToggleMute,onVolumeChange:this.props.requestVideoPlayerVolume}),E&&m.a.createElement(cn,{className:"next-to-volume",currentTime:i,duration:a})),!E&&m.a.createElement(cn,{volumeControlActive:y,currentTime:i,duration:a}),E&&m.a.createElement(vn.a,{hideReaction:Q.c}),m.a.createElement("div",{className:"right-controls"},T,u&&!c&&m.a.createElement(on,{onClick:this.handleTheaterModeClick,theaterMode:v}),w))),m.a.createElement("div",{className:I()("control-bar-gradient",{shown:!o&&k})}))}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"getControlBarEl",value:function(){return this.controlBar}}]),n}(f.Component)),yn=Object(v.connect)(function(e){var n=e.video_player,t=n.controlsActive,i=n.current_time,r=n.current_user_is_owner,a=n.duration,o=n.full_screen,s=n.isMainVideoOnSharePage,c=n.muted,u=n.paused,l=n.playback_rate,d=n.seeking,p=n.theater_mode,f=n.volume_control_active,m=n.video,v=n.volume;return{controlsActive:t,currentTime:i,currentUserIsOwner:r,duration:a,fullScreen:o,inTrimMode:e.trimming.in_trim_mode,isMainVideoOnSharePage:s,muted:c,paused:u,playbackRate:l,seeking:d,theaterMode:p,useEmojis:m.use_emojis,volume:v,volumeControlActive:f,isViewerInsightsActive:Object(X.b)(e)}},function(e){return{requestVideoPlayerCurrentTime:function(n){return e(Object(h.b)(n))},updateTheaterMode:function(n,t){return e(Object(h.o)(n,t))},requestVideoPlayerEnterFullScreen:function(){return e(Object(h.c)())},requestVideoPlayerLeaveFullScreen:function(){return e(Object(h.d)())},requestVideoPlayerMute:function(){return e(Object(h.e)())},requestVideoPlayerPause:function(){return e(Object(h.f)())},requestVideoPlayerPlay:function(){return e(Object(h.g)())},requestVideoPlayerPlaybackRate:function(n){return e(Object(h.h)(n))},requestVideoPlayerVolume:function(n){return e(Object(h.k)(n))},requestVideoPlayerUnmute:function(){return e(Object(h.j)())}}},null,{forwardRef:!0})(gn),bn=t(14),kn=t(141),En=t(387),wn=t(52),Tn=t(67),Sn=t(326),Nn=t(25),_n=(t(1035),function(e){var n=e.onWatchAgainClick;return m.a.createElement(Tn.a,{flag:wn.v,activationValue:!0},m.a.createElement("div",{className:"end-screen-record-video-reply-button"},m.a.createElement(En.b,{isVideoReply:!0,label:"Record a Reply",buttonSize:"large",menuPosition:En.a,location:"end-screen"}),m.a.createElement(On,{onWatchAgainClick:n})))}),On=function(e){var n=e.onWatchAgainClick;return m.a.createElement("div",{className:"watch-again-cta",onClick:n},m.a.createElement("div",{className:"watch-again-icon"}),m.a.createElement("div",null,"Watch Again"))},Cn=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"state",{hasCheckedIfInstalled:!1,installed:!1,hasLargeCTA:!1}),P()(O()(t),"onWatchAgainClick",function(e){e.stopPropagation();var n=t.props.videoId;j.h(x.Wc,{video_id:n}),t.props.onRequestCurrentTime(0),t.props.onRequestPlay()}),P()(O()(t),"onCTAClick",function(e){e.stopPropagation();var n=t.props,i=n.fromPublicSharePage,r=n.isInlineEmbedOnLoom,a=n.videoId;j.h(x.pc,{source:"End of video",from_public_share_page:i,is_inline_embed_on_loom:r,video_id:a}),window.open(bn.M,"_blank")}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.state,n=e.hasCheckedIfInstalled,t=e.installed,i=this.props,r=i.ctaEnabled,a=i.isLoggedIn,o=i.commentsEnabled,s=i.loomBrandedPlayer,c=i.isMainVideoOnSharePage,u=!t&&!a&&s;if(!n)return null;var l=c&&o;return m.a.createElement("div",{className:I()("video-player-end-screen",r&&"has-custom-cta",u&&"large-cta")},!r&&l&&m.a.createElement(_n,{onWatchAgainClick:this.onWatchAgainClick}),r&&m.a.createElement(Sn.a,null),(r||!r&&!l)&&m.a.createElement(On,{onWatchAgainClick:this.onWatchAgainClick}),m.a.createElement(Tn.a,{flag:wn.v,activationValue:!1},!u&&!r&&m.a.createElement(On,{onWatchAgainClick:this.onWatchAgainClick}),!r&&u&&m.a.createElement("div",{className:"install"},m.a.createElement("h3",{className:"static-cta"},"Get Loom to become faster than typing"),m.a.createElement(Nn.a,{buttonType:"rp-primary-2",value:"Get Loom For Free",onClicked:this.onCTAClick}),m.a.createElement("a",{target:"_blank",href:"/"},"go to loom.com"),m.a.createElement(On,{onWatchAgainClick:this.onWatchAgainClick}))))}},{key:"componentDidMount",value:function(){var e=qe()(Ue.a.mark(function e(){return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,new Promise(function(e){return Object(kn.c)(e)});case 3:e.t1=e.sent,e.t2={hasCheckedIfInstalled:!0,installed:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),n}(f.Component),Pn=t(113),Mn=(t(1036),function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"state",{ownerPinged:!1}),P()(O()(t),"goToLoom",function(){return window.location.pathname=bn.H}),P()(O()(t),"pingOwner",function(){t.props.sendInactiveVideoOwnerPing(),t.setState({ownerPinged:!0})}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.ownerName,t=void 0===n?"the owner":n,i=e.ThumbDiv,r=void 0===i?"":i,a=m.a.createElement(f.Fragment,null,m.a.createElement("div",{className:"inactive-video-modal-title"},"This video is currently inactive."),m.a.createElement("div",{className:"inactive-video-modal-content"},"We'll let ".concat(t," know you'd like to watch their video.")),m.a.createElement("div",{className:"inactive-video-modal-actions"},m.a.createElement(Nn.a,{onClicked:this.pingOwner,buttonType:"rp-primary-2",value:"Yes! Let them know."}),m.a.createElement("a",{href:bn.A,className:"inactive-video-modal-goto"},"go to loom.com"))),o=m.a.createElement(f.Fragment,null,m.a.createElement("div",{className:"inactive-video-modal-title"},"Thanks!"),m.a.createElement("div",{className:"inactive-video-modal-content"},"Your request is on its way! 🚀"),m.a.createElement("div",{className:"inactive-video-modal-actions"},m.a.createElement(Nn.a,{onClicked:this.goToLoom,buttonType:"rp-primary-2",value:"Go to loom.com"})));return m.a.createElement("div",{className:"video-player-container"},r,m.a.createElement(Pn.a,{showClose:!1,dark:!0,show:!0},this.state.ownerPinged?o:a))}}]),n}(f.Component)),In=Object(v.connect)(null,function(e){return{sendInactiveVideoOwnerPing:function(){return e(Object(A.e)())}}})(Mn),Vn=t(37),xn=t.n(Vn),Dn=t(32),Ln=t(31),An=t(64),jn=(t(1037),function(e){function n(e){var t;return r()(this,n),(t=o()(this,c()(n).call(this,e))).onPasswordEnter=t.onPasswordEnter.bind(O()(t)),t.updatePassword=t.updatePassword.bind(O()(t)),t.state={error:null,password:""},t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=null!=this.state.error?"error":"";return m.a.createElement("div",{className:"video-player-password-modal-container"},m.a.createElement("div",{className:"video-player-password-modal"},m.a.createElement("h4",null,"This video is private"),m.a.createElement(An.a,{onChange:this.updatePassword,onEnter:this.onPasswordEnter,fieldLabel:"Enter Password",fieldId:"password",fieldType:"password",fieldValue:this.state.password,inputClass:"new-style",isRequired:!0,severity:e,status:this.state.error}),m.a.createElement(Nn.a,{buttonType:"rp-primary-2",buttonClass:"password-button",value:"Enter",onClicked:this.onPasswordEnter})))}},{key:"updatePassword",value:function(e){this.setState({password:e})}},{key:"onPasswordEnter",value:function(){var e=qe()(Ue.a.mark(function e(){var n,t,i,r;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({error:null}),n=this.props.videoId,t=this.state.password,e.next=6,xn()("/api/campaigns/sessions/".concat(n,"/checkPassword"),{credentials:"include",headers:P()({},Dn.b,Ln.b),method:"POST",body:JSON.stringify({password:t})});case 6:if(!((i=e.sent).status>=400)){e.next=9;break}throw new Error("Error checking password - HTTP response: ".concat(i.status));case 9:return e.next=11,i.json();case 11:if(r=e.sent,r.isVerified){e.next=15;break}return e.abrupt("return",this.setState({error:"Wrong Password"}));case 15:this.props.onPassword(t),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),E.b(e.t0,"error checking password for video"),this.setState({error:"Wrong Password"});case 22:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()}]),n}(f.Component)),Rn=t(489),Fn=t(327),Un=t.n(Fn);t(1039);function Bn(){var e=Object(v.useSelector)(function(e){return e.video_player}),n=e.full_screen,t=e.theater_mode,i=e.playback_rate;return m.a.createElement("div",{className:I()("play-screen-speed-selector-container",(t||n)&&"large-format")},m.a.createElement("div",{className:"watch-at"},"Watch At:"),m.a.createElement("div",{className:"button-indicator-container"},m.a.createElement("div",{className:"relative-indicator-el"},m.a.createElement("div",{className:"button-indicator-".concat(W.indexOf(i))}))),H.map(function(e){return m.a.createElement("div",{key:e.rate,className:I()("speed-button",i==e.rate&&"speed-button-selected"),onClick:function(n){return function(e,n){e.stopPropagation(),G.b.dispatch(Object(h.h)(n))}(n,e.rate)}},m.a.createElement(Un.a,{svg:String(e.icon)}))}))}var qn=t(144),Gn=(t(1040),function(e){function n(e){var t;return r()(this,n),t=o()(this,c()(n).call(this,e)),P()(O()(t),"state",{isLoading:!1}),t.onClick=t.onClick.bind(O()(t)),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.state.isLoading,n=this.props,t=n.fullScreen,i=n.theaterMode;return m.a.createElement("div",{className:I()("video-player-play-screen",e&&"is-loading",(i||t)&&"large-format"),onClick:this.onClick},m.a.createElement("div",{className:"button-container"},m.a.createElement("div",{className:"big-play-button"},!e&&m.a.createElement(Un.a,{svg:String('\n<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M12.6231 0.464512L30.7389 14.1701C31.9466 15.0843 31.9466 16.9127 30.7389 17.8269L12.6231 31.5401C11.1286 32.6676 9 31.5934 9 29.7117V2.29294C9 0.403564 11.1286 -0.670635 12.6231 0.464512Z" fill="black" />\n</svg>\n')}),e&&m.a.createElement(qn.a,{color:"dark"})),m.a.createElement("div",{className:"relative-el"},m.a.createElement(Bn,null))),this.props.duration>0&&m.a.createElement("p",{className:"play-screen-duration"},Object(sn.b)(this.props.duration)))}},{key:"onClick",value:function(){this.props.onPlay&&(this.setState({isLoading:!0}),this.props.onPlay())}}]),n}(f.Component)),Wn=(t(261),t(157)),Hn=t.n(Wn),zn=t(55),Yn=t.n(zn),Jn="subscribe",$n="upload-progress",Kn=(t(149),t(156),t(317)),Qn="websocket bad close code",Xn=function(){function e(n){var t=this;r()(this,e),this.websocket=new WebSocket(n),this.messageQueue=[],this.closeCode=null,this.onErrorHandler=null,this.close=this.close.bind(this),this.websocket.onclose=function(e){var n=e.code;if(t.closeCode=n,n!==Kn.c){t.websocket=null;var i=new Error("".concat(Qn,": ").concat(n));E.b(i),null!=t.onErrorHandler&&t.onErrorHandler(i,{code:n})}}}return l()(e,[{key:"ready",value:function(e){var n=this;this.websocket.onopen=function(){e(),window.addEventListener("beforeunload",n.close),window.addEventListener("unload",n.close)}}},{key:"onError",value:function(e){this.onErrorHandler=e}},{key:"onMessage",value:function(e){this.websocket.onmessage=e}},{key:"closedFromServerError",value:function(){return this.closeCode===Kn.a||this.closeCode===Kn.b}},{key:"send",value:function(e){var n=this;return null==this.websocket?console.error("tried sending message on closed websocket"):window.navigator.onLine?(this.messageQueue.length>0&&(console.log("draining websocket message queue"),this.messageQueue.forEach(function(e){n.websocket.send(e)}),this.messageQueue=[]),void this.websocket.send(e)):(this.messageQueue.push(e),void console.log("no network connection - queued ".concat(this.messageQueue.length),"message in buffer"))}},{key:"close",value:function(){null!=this.websocket&&(this.websocket.close(Kn.c),window.removeEventListener("beforeunload",this.close),window.removeEventListener("unload",this.close)),this.websocket=null}}]),e}(),Zn=(t(1041),"Waiting on Luna to start trimming. She's wrapping up another trim right now."),et=["Luna is polishing your trims, give her a few minutes, she's still getting used to this!","Luna is working hard to trim your video. She's getting a big treat for this one.","Luna loves you in this video. Your viewers will too!","Luna has your video in post-production. Trust us, it's in good paws.","Luna is stitching the frames together. Not easy without opposable thumbs.","Luna's working hard on your video. She's up for a promotion soon!","Luna loves what you've done with the video. Two paws way up!","Luna heard your voice while trimming the video. She thinks it's lovely.",'Your video\'s in "Paws-t" production, hang in there!',"Luna’s working as fast as she can. She’ll be done in two shakes of her tail.","Luna is snipping at your video, please be patient!","Luna is paws-itive your video will be done soon!","Luna wants to be taken for walk while waiting for your video to be trimmed."],nt=function(e){function n(e){var t;r()(this,n),(t=o()(this,c()(n).call(this,e))).timeLeftInterval=null,t.websocket=null;var i=e.processingInformation.trim_ranges,a=i.reduce(function(e,n){return e+(n.to-n.from)},0),s=1e3*e.duration-a;return t.totalEstimatedTime=200*i.length+.5*s,t.state={current_progress:e.trimProgress,finalizing:!1,luna_update:Zn,time_left:t.getTimeLeftRaw(e.trimProgress),websocket_retries:0,websocket_retrying:!1},t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.state.current_progress,n=this.state.websocket_retrying,i=this.state.time_left,r={height:"".concat(e||0,"%")},a=null,o=null;if(null!=i&&!n){var s=Yn.a.duration(i),c=s.minutes(),u=s.seconds(),l="".concat(u," sec remaining");c>0&&(l="".concat(c," min ").concat(l)),a=m.a.createElement("p",{className:"time-remaining mobile"},l),o=m.a.createElement("p",{className:"time-remaining desktop"},l)}var d=this.state.luna_update;return n&&(d="Grrr Luna seems to have run off. Don't worry - we'll find her!"),m.a.createElement("div",{className:"video-player-trim-progress-panel"},m.a.createElement("span",{className:"progress-fill",style:r}),m.a.createElement("div",{className:"luna-flex-container"},m.a.createElement("div",{className:"luna-container"},m.a.createElement("img",{className:"luna-head",src:t(1042)}),m.a.createElement("img",{className:"luna-body",src:t(1043)}),m.a.createElement("p",{className:"luna-update"},d),a)),o)}},{key:"componentDidUpdate",value:function(){var e=qe()(Ue.a.mark(function e(){var n,t,i,r,a,o;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,t=n.current_progress,!n.finalizing&&100===t){e.next=3;break}return e.abrupt("return");case 3:return this.setState({finalizing:!0}),e.next=6,new Promise(function(e){return window.setTimeout(e,1e3)});case 6:i=this.props,r=i.isMainVideoOnSharePage,a=i.video,(o=Hn()(a)).processing_information.trim_progress=100,r&&window.top.postMessage({type:g.k,processing_information:o.processing_information},"*"),this.props.updateVideoCreator(o);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setupUpdateSocket()}},{key:"componentWillUnmount",value:function(){null!=this.websocket&&this.websocket.close(),window.clearInterval(this.timeLeftInterval)}},{key:"getTimeLeftRaw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(100-e)/100*this.totalEstimatedTime}},{key:"getTimeLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.state||{},t=n.current_progress,i=null!=e?e:t;if(null===i)return null;var r=this.getTimeLeftRaw(i);return r=Math.max(r,0),null!=this.state.time_left&&(r=Math.min(r,this.state.time_left)),r}},{key:"setupUpdateSocket",value:function(){var e=qe()(Ue.a.mark(function e(){var n,t,i,r=this;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=this.state.websocket_retries)>0)){e.next=4;break}return e.next=4,new Promise(function(e){window.setTimeout(e,2e3*Math.pow(2,Math.max(n,4)))});case 4:t=this.props.videoId,this.websocket=new Xn(bn.B+"/hermes/subscriptions"),this.websocket.ready(function(){r.setState({websocket_retries:0,websocket_retrying:!1}),r.websocket.send(JSON.stringify({type:Jn,subscription_data:{type:"trim-progress",video_id:t}}))}),i=!1,this.websocket.onMessage(function(e){var n=e.data,t=JSON.parse(n),a=t.progress,o={current_progress:t.progress,time_left:r.getTimeLeft(t.progress)};null==a||i||(i=!0,o.luna_update=et[Math.floor(Math.random()*et.length)],r.timeLeftInterval=window.setInterval(function(){r.setState({time_left:Math.max(r.state.time_left-1e3,0)})},1500)),r.setState(o)}),this.websocket.onError(function(){var e=r.state.websocket_retries;r.setState({websocket_retrying:!0,websocket_retries:e+1}),r.setupUpdateSocket()});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),n}(f.Component),tt=Object(v.connect)(function(e){var n=e.video_player,t=n.video,i=n.isMainVideoOnSharePage,r=t.processing_information,a=r.trim_progress,o=t.id;return{duration:t.video_properties.duration,processingInformation:r,trimProgress:a,videoId:o,video:t,isMainVideoOnSharePage:i}},function(e){return{updateVideoCreator:function(n){return e(Object(A.i)(n))}}})(nt),it=t(447),rt=t.n(it),at=2,ot=4,st=3,ct=t(540),ut=t(87),lt=t(290),dt=(t(1044),30),pt=3,ft=new Error("Embed Video MediaSrc Error"),mt=.75,vt=1e3,ht={onDimensionChange:se.a.func,onDurationChange:se.a.func,onEnded:se.a.func,onError:se.a.func,onMute:se.a.func,onNotWaiting:se.a.func,onPause:se.a.func,onPlay:se.a.func,onPlaying:se.a.func,onProgress:se.a.func,onRateChange:se.a.func,onTimeUpdate:se.a.func,onUnmute:se.a.func,onVolumeChange:se.a.func,onWaiting:se.a.func},gt=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"hlsInstance",null),P()(O()(t),"onVisibilityChangeListener",null),P()(O()(t),"timeUpdateInterval",null),P()(O()(t),"hasStartedLoading",!1),P()(O()(t),"state",{numSrcRetries:0,timeWatched:0,timeWatchedForDurationEvent:0,viewTracked:!1,videoTouchedOnMobile:!1}),P()(O()(t),"handleMobileVideoTouch",function(){k.isMobile&&(t.setState({videoTouchedOnMobile:!0}),t.mobileTouchTimeout=window.setTimeout(function(){return t.setState({videoTouchedOnMobile:!1})},2e3))}),P()(O()(t),"onLoadStartHandler",function(){t.props.isMainVideoOnSharePage?(t.props.updateShareVideoPlayerReady(!0),t.props.updateShareVideoIframeLoaded(!0)):t.setupPlayerJsAdapter()}),P()(O()(t),"setupPlayerJsAdapter",function(){rt.a.HTML5Adapter(t.video).ready()}),P()(O()(t),"onCanPlayThrough",function(){t.onProgress()}),P()(O()(t),"onClick",function(e){e.preventDefault(),t.video.paused?t.video.play():t.video.pause()}),P()(O()(t),"onContextMenu",function(e){return e.preventDefault(),!1}),P()(O()(t),"onDimensionChange",function(e,n){t.props.onDimensionChange&&t.props.onDimensionChange(e,n)}),P()(O()(t),"onDurationChange",function(){t.props.onDurationChange&&t.props.onDurationChange(t.video.duration)}),P()(O()(t),"onSeekage",function(e){var n=t.video.currentTime;Math.abs(e-n)<1||(T.a.sendEvent("pause",{currentTime:n}),T.a.sendEvent("play",{currentTime:e}))}),P()(O()(t),"onEnded",function(){t.trackVideoViewEvent(),T.a.sendEvent("ended"),t.props.onEnded&&t.props.onEnded()}),P()(O()(t),"onCtaClick",function(){var e=t.video.currentTime;T.a.sendEvent("cta",{currentTime:e})}),P()(O()(t),"onError",function(){var e=(t.video.error||{}).code;if(t.props.videoModel.active_status||e!==ot){if(t.props.onError&&t.props.onError(),t.props.sourceUrl.indexOf("-streamed.webm")>-1){var n=t.video.currentTime;return t.props.onRefetchSource().then(function(){t.setCurrentTime(n),t.video.play()})}if(e===at||e===ot){var i=t.state.numSrcRetries,r=t.props,a=r.sourceMimeType,o=r.videoModel;if(i>=pt){if(a!==Ln.f&&a!==Ln.c)return E.b(ft,"error fetching video src",{error_code:e,video_id:o.s3_id,video_type:a});t.props.onRefetchSource()}window.setTimeout(function(){var e=t.video.currentTime;t.setState({numSrcRetries:t.state.numSrcRetries+1}),t.video.pause(),t.video.load(),t.setCurrentTime(e),t.video.play()},100*Math.pow(2,i))}}}),P()(O()(t),"onLoadedMetadata",function(){t.video.videoWidth>0&&t.video.videoHeight>0&&t.onDimensionChange(t.video.videoWidth,t.video.videoHeight),t.onDurationChange(),T.a.sendEvent("ready",{duration:t.video.duration})}),P()(O()(t),"onPlay",function(){!t.hlsInstance||t.hlsInstance.config.autoStartLoad||t.hasStartedLoading||(t.hlsInstance.startLoad(-1),t.hasStartedLoading=!0),t.props.onPlay&&t.props.onPlay();var e=t.video.currentTime;T.a.sendEvent("play",{currentTime:e})}),P()(O()(t),"onPause",function(){t.props.onPause&&t.props.onPause();var e=t.video.currentTime;T.a.sendEvent("pause",{currentTime:e}),t.video.readyState>=st&&t.props.onNotWaiting&&t.props.onNotWaiting()}),P()(O()(t),"onProgress",function(){if(t.props.onProgress){var e=t.getBufferedParts();t.props.onProgress(e)}}),P()(O()(t),"onRateChange",function(){t.props.onRateChange&&t.props.onRateChange(t.video.playbackRate);var e=t.video,n=e.currentTime,i=e.playbackRate;T.a.sendEvent("rate-change",{currentTime:n,playbackRate:i})}),P()(O()(t),"onTimeUpdate",fe()(function(){var e=t.props,n=e.currentTime,i=e.currentTrimRange,r=e.inTrimMode,a=e.seeking,o=e.trimRanges,s=e.videoModel;if(null!=t.video){var c=Math.round(1e3*t.video.currentTime)-Math.round(1e3*n);if(!s.current_user_is_owner&&!r&&!t.state.viewTracked&&!a&&c>0){t.setState({timeWatched:t.state.timeWatched+c});var u=t.state.timeWatched/(1e3*t.video.duration);(t.state.timeWatched>=vt||u>=mt)&&t.trackVideoViewEvent()}if(!r&&!a&&c>0&&t.setState({timeWatchedForDurationEvent:t.state.timeWatchedForDurationEvent+c}),!r||a||0===o.length)return t.props.onTimeUpdate(t.video.currentTime);var l=Object(J.e)(Math.round(1e3*n),Math.round(1e3*t.video.currentTime),Math.round(1e3*t.video.duration),o,i);if(l===Math.round(1e3*t.video.currentTime))return t.props.onTimeUpdate(t.video.currentTime);t.setCurrentTime(l/1e3)}},dt)),P()(O()(t),"onVolumeChange",function(){t.props.onVolumeChange&&t.props.onVolumeChange(t.video.volume);var e=t.video,n=e.currentTime,i=e.volume;T.a.sendEvent("volume-change",{currentTime:n,volume:i}),(t.video.muted||0===t.video.volume)&&t.props.onMute?t.props.onMute():t.video.volume>0&&t.props.onUnmute&&t.props.onUnmute()}),P()(O()(t),"onVisibilityChange",function(e){e||t.onUnload()}),P()(O()(t),"onUnload",function(){t.flushVideoViewDurationEvent()}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.autoplay,i=n.ctaEnabled,r=n.ended,a=n.flippedCamera,o=n.hasStarted,s=n.isCameraRecording,c=n.isMainVideoOnSharePage,u=n.paused,l=n.sourceMimeType,d=n.sourceUrl,p=d;return d&&l===Ln.c&&!Object(ut.a)()&&(p=null),m.a.createElement("div",{className:I()("video-player-video-container",{mobile:k.isMobile,"is-embed":!c})},m.a.createElement("video",{className:I()("video-player-video",{"flip-video":a&&s}),controls:o&&!r&&k.isMobile,autoPlay:t,ref:function(n){return e.video=n},playsInline:!0,preload:"auto",src:p,onCanPlayThrough:this.onCanPlayThrough,onContextMenu:this.onContextMenu,onClick:this.onClick,onDoubleClick:this.props.onDoubleClick,onDurationChange:this.onDurationChange,onEnded:this.onEnded,onError:this.onError,onLoadedMetadata:this.onLoadedMetadata,onLoadStart:this.onLoadStartHandler,onPause:this.onPause,onPlay:this.onPlay,onPlaying:this.props.onPlaying,onProgress:this.onProgress,onRateChange:this.onRateChange,onTimeUpdate:this.onTimeUpdate,onVolumeChange:this.onVolumeChange,onTouchStart:this.handleMobileVideoTouch,onWaiting:this.props.onWaiting,tabIndex:"-1"}),i&&o&&!r&&m.a.createElement("div",{className:I()("hover-cta-wrapper",{show:u||this.state.videoTouchedOnMobile,"embed-top-bar-showing":this.props.showEmbedTopBar,"is-embed":!c})},m.a.createElement(Sn.a,{onClick:this.onCtaClick})))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.isMainVideoOnSharePage,t=e.videoModel;this.checkRequestedMutations(),n&&t.current_user_is_owner&&window.top.postMessage({type:g.u},"*"),window.addEventListener("beforeunload",this.onUnload),window.addEventListener("unload",this.onUnload),k.isMobile&&(document.addEventListener("pagehide",this.onUnload),this.onVisibilityChangeListener=Object(F.a)(this.onVisibilityChange)),this.checkAndCreateHlsInstance()}},{key:"componentWillUnmount",value:function(){this.clearTimeUpdateInterval(),window.removeEventListener("beforeunload",this.onUnload),window.removeEventListener("unload",this.onUnload),document.removeEventListener("pagehide",this.onUnload),this.video&&this.mobileTouchTimeout&&window.clearTimeout(this.mobileTouchTimeout),Object(F.b)(this.onVisibilityChangeListener)}},{key:"componentDidUpdate",value:function(e){this.checkRequestedMutations();var n=this.video,t=n.ended,i=n.paused,r=n.seeking;!T.a.videoRef&&this.video&&(T.a.videoRef=this.video),null==this.timeUpdateInterval||r||!t&&!i?null!=this.timeUpdateInterval||!r&&(t||i)||this.setupTimeUpdateInterval():this.clearTimeUpdateInterval(),!e.sourceUrl&&this.props.sourceUrl&&this.checkAndCreateHlsInstance()}},{key:"checkAndCreateHlsInstance",value:function(){var e=this.props,n=e.sourceUrl,t=e.sourceMimeType,i=e.isMainVideoOnSharePage;n&&t===Ln.c&&Object(ut.k)()&&(this.hlsInstance=Object(ct.a)(n,this.video,i))}},{key:"setCurrentTime",value:function(e){try{this.video.currentTime=e}catch(e){console.warn("could not set current time ".concat(e))}}},{key:"setupTimeUpdateInterval",value:function(){this.timeUpdateInterval=window.setInterval(this.onTimeUpdate,dt)}},{key:"clearTimeUpdateInterval",value:function(){window.clearInterval(this.timeUpdateInterval),this.timeUpdateInterval=null}},{key:"checkRequestedMutations",value:function(){var e=this.props,n=e.requestCurrentTime,t=e.requestMute,i=e.requestPause,r=e.requestPlay,a=e.requestPlaybackRate,o=e.requestUnmute,s=e.requestVolume;null!=s&&(this.video.muted=0===s,this.video.volume=s),i&&null!=this.video.pause?this.video.pause():r&&null!=this.video.play&&this.video.play(),t?this.video.muted=!0:o&&(this.video.muted=!1,0===this.video.volume&&(this.video.volume=1)),null!=n&&(this.onSeekage(n),this.setCurrentTime(n)),null!=a&&(this.video.playbackRate=a)}},{key:"getBufferedParts",value:function(){for(var e=this.video.buffered,n=[],t=0;t<e.length;t+=1)n.push({end:e.end(t),start:e.start(t)});return n}},{key:"trackVideoViewEvent",value:function(){this.state.viewTracked||(this.setState({viewTracked:!0}),this.props.onTrackVideoView())}},{key:"flushVideoViewDurationEvent",value:function(){var e=this.state.timeWatchedForDurationEvent;e>0&&(this.props.onTrackVideoWatchDuration(Math.round(e/1e3)),this.setState({timeWatchedForDurationEvent:0}))}}]),n}(f.Component);gt.propTypes=ht;var yt=Object(v.connect)(function(e){return{isMainVideoOnSharePage:Object(lt.a)(e)}},function(e){return{updateShareVideoIframeLoaded:function(n){return e(Object(V.e)(n))},updateShareVideoPlayerReady:function(n){return e(Object(V.h)(n))}}})(gt),bt=t(491),kt=(t(1052),function e(n){var t=Object(f.useState)(!1),i=ne()(t,2),r=i[0],a=i[1],o=Object(f.useState)(!1),s=ne()(o,2),c=s[0],u=s[1];return e.handleClickOutside=function(){return a(!1)},m.a.createElement("div",{className:"embed-top-share-button",onClick:function(e){e.stopPropagation(),a(!r)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},m.a.createElement(te,{text:"Share",hovered:c&&!r,position:"bottom"}),m.a.createElement(Un.a,{svg:String('\n  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d)">\n     <path fill-rule="evenodd" clip-rule="evenodd" d="M19.7615 9.70504L14.1742 4.21866C13.6861 3.73969 12.8801 4.09991 12.8801 4.79263V7.19144C6.90468 8.07813 4.45521 13.3508 4.00125 19.5813C3.96945 20.0167 4.55366 20.1672 4.7295 19.7674C6.20593 16.4185 8.55694 13.3785 12.8801 13.3626V15.7614C12.8801 16.4581 13.6861 16.8144 14.1742 16.3354L19.7615 10.853C20.0795 10.5403 20.0795 10.0178 19.7615 9.70504Z" fill="white"/>\n    </g>\n  <defs>\n    <filter id="filter0_d" x="0" y="0" width="24" height="24" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n      <feOffset/>\n      <feGaussianBlur stdDeviation="2"/>\n      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n    </filter>\n  </defs>\n  </svg>\n')}),m.a.createElement(bt.a,{show:r,align:"right",vAlign:"auto",additionalClass:"embed-share-dropdown",hasGmailAccount:n.hasGmailAccount,videoIsTeamShared:n.videoIsTeamShared,currentUserIsOwner:n.currentUserIsOwner,showFacebook:!1,video:n.video}))}),Et={handleClickOutside:function(){return kt.handleClickOutside}},wt=Je()(kt,Et),Tt=(t(1053),20);function St(e){var n=e.fromPublicSharePage||e.parentLocation.indexOf(bn.A)>-1||e.parentLocation.indexOf(bn.x)>-1||e.parentLocation.indexOf(bn.z)>-1||e.parentLocation.indexOf(bn.w)>-1;var t="".concat(bn.A,"/share/").concat(e.videoModel.id);return m.a.createElement(Tn.a,{flag:wn.l,activationValue:!0},m.a.createElement("div",{className:I()("embed-screen-top-section",{"cta-enabled":e.ctaEnabled,started:e.hasStarted,ended:e.ended})},m.a.createElement("a",{onClick:function(){j.h(x.T,{from_link_expand:e.fromLinkExpand,parent_location:e.parentLocation,video_id:e.videoModel.id,title:e.videoName})},href:t,target:"_blank",rel:"noopener noreferrer",className:I()("title",{"cta-enabled":e.ctaEnabled})},e.videoName),m.a.createElement("div",{className:"sub-title-section"},m.a.createElement("img",{src:e.pauseScreenAvatar,align:"left"}),m.a.createElement("a",{onClick:function(){j.h(x.S,{from_link_expand:e.fromLinkExpand,parent_location:e.parentLocation,video_id:e.videoModel.id})},href:t,target:"_blank",rel:"noopener noreferrer",className:"owner-name"},e.ownerFullname.length>Tt?e.ownerFullname.substring(0,Tt)+"...":e.ownerFullname),e.loomBrandedPlayer&&!n&&m.a.createElement("a",{onClick:function(){j.h(x.U,{from_link_expand:e.fromLinkExpand,parent_location:e.parentLocation,video_id:e.videoModel.id})},href:t,target:"_blank",rel:"noopener noreferrer",className:"watch-on-loom"},"Watch on Loom")),m.a.createElement(wt,{hasGmailAccount:e.hasGmailAccount,videoIsTeamShared:e.videoIsTeamShared,currentUserIsOwner:e.currentUserIsOwner,video:e.videoModel})))}t(245);var Nt=t(101),_t=(t(1054),function(e){return m.a.createElement("div",{className:"upload-progress-loading-panel"},m.a.createElement("div",{className:"upload-progress-check"}),m.a.createElement("div",{className:"upload-progress-container"},m.a.createElement("div",{className:"upload-progress-bar",style:{transform:"translateX(".concat(-100+e.progress,"%)")}})))}),Ot=(t(1055),0),Ct=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(a))),P()(O()(t),"state",{isComplete:!1}),P()(O()(t),"onSocketReady",function(){var e=window.location.pathname.split("/").pop();t.websocket.send(JSON.stringify({type:Jn,subscription_data:{type:$n,video_id:e}}))}),t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.posterUrl,t=e.inUploadMode,i=e.videoUploadProgress,r=e.isFlipped,a=I()("upload-progress",{active:t,"is-completed":this.state.isComplete}),o=I()("loading-thumbnail-image",{flipped:r}),s=n&&{backgroundImage:"url(".concat(n,")")};return m.a.createElement("div",{className:a},m.a.createElement("div",{className:"loading-thumbnail-container"},m.a.createElement("div",{className:o,style:s})),m.a.createElement(_t,{progress:i}))}},{key:"componentDidMount",value:function(){this.setupUpdateSocket()}},{key:"shouldComponentUpdate",value:function(e,n){return e.posterUrl!==this.props.posterUrl||e.inUploadMode!==this.props.inUploadMode||e.videoUploadProgress!==this.props.videoUploadProgress||n.isComplete!==this.state.isComplete}},{key:"componentWillUnmount",value:function(){this.websocket&&this.websocket.close()}},{key:"onUploadDone",value:function(){var e=qe()(Ue.a.mark(function e(){return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isComplete:!0}),e.next=3,new Promise(function(e){return setTimeout(e,1800)});case 3:this.exitUploadMode(),this.websocket.close();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"exitUploadMode",value:function(){this.props.toggleUploadMode(!1),this.props.finishUpload()}},{key:"onProgress",value:function(e){Ot=Math.max(Ot,e),Ot=Math.min(Ot,100),this.props.onUploadVideoProgress(Ot)}},{key:"setupUpdateSocket",value:function(){var e=this;this.websocket=new Xn(bn.B+"/hermes/subscriptions"),this.websocket.ready(this.onSocketReady),this.websocket.onMessage(function(){var n=qe()(Ue.a.mark(function n(t){var i,r;return Ue.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.data,r=JSON.parse(i)){n.next=4;break}return n.abrupt("return");case 4:if(r.isFlippedThumb&&e.props.updateVideoPlayerFlippedCamera(r.isFlippedThumb),r.thumbUrl&&Object(U.a)(r.thumbUrl).then(function(e){return e.src}).then(e.props.updateVideoPlayerPosterUrl),!0!==r.noUpload){n.next=9;break}return e.exitUploadMode(),n.abrupt("return",e.websocket.close());case 9:if(e.onProgress(r.progress),!0!==r.done){n.next=14;break}return n.next=13,e.onUploadDone();case 13:return n.abrupt("return",n.sent);case 14:!e.props.inUploadMode&&e.props.toggleUploadMode(!0);case 15:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()),this.websocket.onError(function(n){e.exitUploadMode(),console.error("ws error",n)})}}]),n}(m.a.Component),Pt=Object(v.connect)(function(e){var n=e.video_player,t=n.poster_url,i=n.in_upload_mode,r=n.video_upload_progress,a=n.flipped_camera,o=n.video;return{inUploadMode:i,videoUploadProgress:r,posterUrl:t,video:o,isFlipped:(o.video_properties||{}).screen_type===L.a&&a}},function(e){return{onUploadVideoProgress:function(n){return e(Object(h.cb)(n))},toggleUploadMode:function(n){return e(Object(h.n)(n))},updateVideoPlayerPosterUrl:function(n){return e(Object(h.Q)(n))},finishUpload:function(){return e(Object(Nt.f)())},updateVideoPlayerFlippedCamera:function(n){return e(Object(h.A)(n))}}})(Ct),Mt=(t(1056),[t(1057),t(1058),t(1059),t(1060),t(1061),t(1062),t(1063),t(611),t(611),t(1064),t(1065),t(1066)]),It="video-player-container",Vt=function(e){function n(e){var t;return r()(this,n),t=o()(this,c()(n).call(this,e)),P()(O()(t),"onKeyDown",function(e){if(!(null!==window.document.querySelector("input:focus, select:focus, textarea:focus, [contenteditable]:focus"))){D.e.includes(e.key)&&e.preventDefault(),D.l.indexOf(e.key)>-1&&(e.preventDefault(),t.props.volume+.1<=1&&t.props.requestVideoPlayerVolume(t.props.volume+.1)),D.k.indexOf(e.key)>-1&&(e.preventDefault(),t.props.volume-.1>=0&&t.props.requestVideoPlayerVolume(t.props.volume-.1)),D.i.indexOf(e.key)>-1&&(e.preventDefault(),Y(t.props.playbackRate))}}),P()(O()(t),"onKeyUp",function(e){var n=t.props.hasStarted,i=null!==document.querySelector("input:focus, select:focus, textarea:focus, [contenteditable]:focus"),r=t.props.duration>=25?10:5;if(!i){if(D.e.includes(e.key)){if(!n)return t.props.updateVideoPlayerPlaying(),void t.props.requestVideoPlayerPlay();e.preventDefault(),t.props.paused?t.props.requestVideoPlayerPlay():t.props.requestVideoPlayerPause()}D.d.indexOf(e.key)>-1&&(e.preventDefault(),t.props.muted?t.props.requestVideoPlayerUnmute():t.props.requestVideoPlayerMute()),D.b.indexOf(e.key)>-1&&(e.preventDefault(),t.props.requestVideoPlayerCurrentTime(t.props.currentTime-r)),D.c.indexOf(e.key)>-1&&(e.preventDefault(),t.props.requestVideoPlayerCurrentTime(t.props.currentTime+r)),D.g.indexOf(e.key)>-1&&(e.preventDefault(),t.props.requestVideoPlayerCurrentTime(t.props.currentTime+1)),D.f.indexOf(e.key)>-1&&(e.preventDefault(),t.props.requestVideoPlayerCurrentTime(t.props.currentTime-1)),D.h.indexOf(e.key)>-1&&(e.preventDefault(),k.isFirefox&&t.player.mozRequestFullScreen(),t.props.fullScreen?t.props.requestVideoPlayerLeaveFullScreen():t.props.requestVideoPlayerEnterFullScreen()),D.j.indexOf(e.key)>-1&&(e.preventDefault(),t.toggleTheater())}}),P()(O()(t),"toggleTheater",function(){var e=t.props,n=e.currentUserIsOwner,i=e.theaterMode,r=!e.inTrimMode&&!i;t.props.currentUserIsOwner||(document.cookie="".concat(hn.e," = ").concat(r,";")),t.props.updateTheaterMode(r,t.props.inTrimMode),j.h(x.yc,{currentUserIsOwner:n,on:r})}),P()(O()(t),"handleToggleFullscreen",function(){t.props.fullScreen?t.props.requestVideoPlayerLeaveFullScreen():t.props.requestVideoPlayerEnterFullScreen(),j.h(x.gb,{from_double_click:!0,full_screen:t.props.fullScreen})}),P()(O()(t),"onPassword",function(e){t.props.updateVideoPlayerPasswordCreator(e),t.props.updateVideoPlayerSourceCreator()}),P()(O()(t),"togglePlay",function(){var e=t.props.currentTime;t.props.paused?(T.a.sendEvent("play",{currentTime:e}),t.props.requestVideoPlayerPlay()):(T.a.sendEvent("pause",{currentTime:e}),t.props.requestVideoPlayerPause())}),P()(O()(t),"onFullscreenChange",function(){Object(F.e)()!==t.player?t.props.updateVideoPlayerLeaveFullScreen():t.props.updateVideoPlayerEnterFullScreen()}),P()(O()(t),"onMouseMove",function(){if(t.setupMouseInactiveTimeout(),!t.props.mouseActive)return t.props.updateVideoPlayerMouseActive()}),P()(O()(t),"updateVideoPlayerMouseInactiveImmediately",function(){window.clearTimeout(t.mouseInactiveTimeout),t.props.updateVideoPlayerMouseInactive()}),P()(O()(t),"handlePlayerControlEvents",function(e){if(t.player){var n=e.data,i=void 0===n?{}:n,r=t.props.duration>=25?10:5;switch(i.type){case g.j:t.props.paused?t.props.requestVideoPlayerPlay():t.props.requestVideoPlayerPause();break;case g.g:t.props.requestVideoPlayerCurrentTime(t.props.currentTime-r);break;case g.h:t.props.requestVideoPlayerCurrentTime(t.props.currentTime+r);break;case g.i:t.props.muted?t.props.requestVideoPlayerUnmute():t.props.requestVideoPlayerMute();break;case g.m:t.props.requestVideoPlayerCurrentTime(t.props.currentTime+1);break;case g.l:t.props.requestVideoPlayerCurrentTime(t.props.currentTime-1);break;case g.n:t.props.fullScreen?t.props.requestVideoPlayerLeaveFullScreen():t.props.requestVideoPlayerEnterFullScreen();break;case g.p:var a=t.props,o=a.currentUserIsOwner,s=a.theaterMode,c=!a.inTrimMode&&!s;t.props.currentUserIsOwner||(document.cookie="".concat(hn.e," = ").concat(c,";")),t.props.updateTheaterMode(c,t.props.inTrimMode),j.h(x.yc,{currentUserIsOwner:o,on:c});break;case g.r:t.props.volume+.1<=1&&t.props.requestVideoPlayerVolume(t.props.volume+.1);break;case g.q:t.props.volume-.1>=0&&t.props.requestVideoPlayerVolume(t.props.volume-.1);break;case g.o:Y(t.props.playbackRate)}}}),t.mouseInactiveTimeout=null,t}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.autoplay,i=n.controlsActive,r=n.ctaEnabled,a=n.ctaFlowActive,o=n.currentTime,s=n.currentTrimRange,c=n.commentsEnabled,u=n.ended,l=n.flippedCamera,d=n.fromLinkExpand,p=n.fromPublicSharePage,v=n.hasGmailAccount,h=n.hasStarted,g=n.iframeVisible,y=n.inTrimMode,b=n.isCameraRecording,E=n.isFetching,w=n.isInlineEmbedOnLoom,T=n.isLoggedIn,S=n.isMainVideoOnSharePage,_=n.mayBeUploading,O=n.mouseActive,C=n.needsPassword,P=n.needsPermission,M=n.parentLocation,V=void 0===M?"":M,x=n.password,D=n.paused,A=n.posterUrl,j=n.requestCurrentTime,F=n.requestMute,U=n.requestPause,B=n.requestPlay,q=n.requestPlaybackRate,G=n.requestUnmute,W=n.requestVolume,H=n.seeking,z=n.sourceMimeType,Y=n.sourceUrl,J=n.trimRanges,$=n.videoId,Q=n.videoModel,X=n.videoName,Z=n.videoIsTeamShared,ee=n.waiting,ne=n.waitingForTrim,te=n.isViewerInsightsActive,ie=Q.video_properties,re=void 0===ie?{}:ie,ae=Q.thumbnails,oe=void 0===ae?{}:ae,se=Q.current_user_is_owner,ce=Q.owner_name,ue=Q.owner_full_name,le=Q.active_status,de=oe.full,pe=re.screen_type,fe=void 0===pe?"":pe,me=h&&ee&&!D,ve=!y&&u&&!a,he=I()("video-player-thumbnail-image",{flipped:fe===L.a&&l&&!de}),ge=A?m.a.createElement("div",{className:he,style:{backgroundImage:"url(".concat(A,")")}}):m.a.createElement("div",null);if(!y&&ne)return m.a.createElement("div",{className:It,style:this.props.stylesFromShareVideoParent},m.a.createElement(tt,null));if(!S&&!se&&!le)return m.a.createElement(In,{ownerName:ce,ThumbDiv:ge});if(E&&Q.complete)return m.a.createElement("div",{className:It,style:this.props.stylesFromShareVideoParent},ge,m.a.createElement("div",{className:"video-player-overlay"}),m.a.createElement(qn.a,{delay:1e3}));if(P)return S?null:m.a.createElement(Rn.a,null);if(null==x&&C)return m.a.createElement(jn,{onPassword:this.onPassword,videoId:$});var ye=Q.owner_avatar?Object(R.b)(Q.owner_avatar.thumb):K.a,be=this.props.updateVideoPlayerSourceMp4Creator;null!=Y&&Y.indexOf("-streamed.webm")>-1&&(be=this.props.updateVideoPlayerSourceRawCreator),le||(be=null);var ke={width:(this.player?this.player.getBoundingClientRect():{}).width||0,x:0},Ee=!te&&!a&&!h,we=!S&&(i||ve||Ee);return m.a.createElement(f.Fragment,null,_&&m.a.createElement(Pt,null),m.a.createElement("div",{className:It,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseMove,onTouchMove:this.onMouseMove,onMouseLeave:this.updateVideoPlayerMouseInactiveImmediately,style:N()({},this.props.stylesFromShareVideoParent,{visibility:g?"visible":"hidden"}),ref:function(n){return e.player=n}},!te&&!h&&A&&m.a.createElement("div",{className:he,style:{backgroundImage:"url(".concat(A,")")}}),m.a.createElement(yt,{currentTrimRange:s,flippedCamera:l,fromLinkExpand:d,hasStarted:h,inTrimMode:y,isCameraRecording:b,isInlineEmbedOnLoom:w,isMainVideoOnSharePage:S,mouseActive:O,parentLocation:V,showEmbedTopBar:we,trimRanges:J,videoId:$,videoModel:Q,autoplay:t,ctaEnabled:r,currentTime:o,ended:u,ownerName:ue,paused:D,pauseScreenAvatar:ye,seeking:H,sourceMimeType:z,sourceUrl:Y,requestCurrentTime:j,requestMute:F,requestPause:U,requestPlay:B,requestPlaybackRate:q,requestUnmute:G,requestVolume:W,onDimensionChange:this.props.updateVideoPlayerDimensionsCreator,onDoubleClick:this.handleToggleFullscreen,onDurationChange:this.props.updateVideoPlayerDurationCreator,onEnded:this.props.updateVideoPlayerEnded,onMute:this.props.updateVideoPlayerMute,onNotWaiting:this.props.updateVideoPlayerNotWaiting,onPause:this.props.updateVideoPlayerPaused,onPlay:this.props.updateVideoPlayerPlay,onPlaying:this.props.updateVideoPlayerPlaying,onProgress:this.props.updateVideoPlayerBufferedParts,onRateChange:this.props.updateVideoPlayerPlaybackRate,onRefetchSource:be,onTimeUpdate:this.props.updateVideoPlayerCurrentTime,onTrackVideoView:this.props.trackVideoViewCreator,onTrackVideoWatchDuration:this.props.trackVideoWatchDurationCreator,onUnmute:this.props.updateVideoPlayerUnmute,onVolumeChange:this.props.updateVideoPlayerVolume,onWaiting:this.props.updateVideoPlayerWaiting}),!k.isMobile&&(te||h)&&!u&&!ve&&m.a.createElement(yn,{containerDimensions:ke,ended:u,onRef:function(n){return e.controlBar=n}}),me&&m.a.createElement(qn.a,{delay:1e3}),ve&&m.a.createElement(Cn,{commentsEnabled:c,ctaEnabled:r,currentUserIsOwner:se,ended:u,fromPublicSharePage:p,inTrimMode:y,isInlineEmbedOnLoom:w,isLoggedIn:T,isMainVideoOnSharePage:this.props.isMainVideoOnSharePage,loomBrandedPlayer:Q.loom_branded_player,onRequestCurrentTime:this.props.requestVideoPlayerCurrentTime,onRequestPlay:this.props.requestVideoPlayerPlay,ownerFullname:ue,pauseScreenAvatar:ye,videoId:$,videoName:X}),Ee&&m.a.createElement(Gn,{duration:this.props.duration,fullScreen:this.props.fullScreen,onPlay:this.props.requestVideoPlayerPlay,ownerFullname:ue,pauseScreenAvatar:ye,theaterMode:this.props.theaterMode,videoName:Q.name}),we&&m.a.createElement(St,{currentUserIsOwner:se,fromLinkExpand:d,fromPublicSharePage:p,hasGmailAccount:v,ctaEnabled:r,loomBrandedPlayer:Q.loom_branded_player,ownerFullname:ue,parentLocation:V,pauseScreenAvatar:ye,videoIsTeamShared:Z,hasStarted:h,ended:u,videoModel:Q,videoName:X})))}},{key:"setupMouseInactiveTimeout",value:function(){var e=this;window.clearTimeout(this.mouseInactiveTimeout),this.mouseInactiveTimeout=window.setTimeout(function(){if(null!=e.controlBar&&null!=e.controlBar.getControlBarEl){var n=e.controlBar.getControlBarEl(),t=document.getElementsByClassName("watch-on-loom")[0],i=t&&t.querySelector(":hover"),r=n&&n.querySelector(":hover");if(i||r)return}e.props.updateVideoPlayerMouseInactive()},2e3)}},{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.autoplay,i=n.isFetching,r=n.requestEnterFullScreen,a=n.requestLeaveFullScreen,o=n.videoModel,s=n.iframeVisible,c=n.sourceRequested;!s||o.complete||c||this.props.updateVideoPlayerSourceCreator(),r?Object(F.k)(this.player):a&&Object(F.c)(),t&&s&&o.complete&&e.isFetching&&!i&&(console.log("TEMP LOGS FOR AUTOPLAY HACK: calling requestVideoPlayerPlay"),this.props.requestVideoPlayerPlay())}},{key:"componentDidMount",value:function(){this.props.videoModel.complete&&this.props.updateVideoIframeVisibility(!0),Mt.map(function(e){U.a(e)}),document.addEventListener("keyup",this.onKeyUp,!1),document.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("message",this.handlePlayerControlEvents),Object(F.h)(this.onFullscreenChange),this.setupMouseInactiveTimeout()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("message",this.handlePlayerControlEvents),Object(F.l)(this.onFullscreenChange)}}]),n}(f.Component),xt=Object(v.connect)(function(e){var n=e.video_player,t=n.autoplay,i=n.current_time,r=n.controlsActive,a=n.duration,o=n.ended,s=n.flipped_camera,c=n.from_link_expand,u=n.from_public_share_page,l=n.full_screen,d=n.has_started,p=n.is_fetching,f=n.is_inline_embed_on_loom,m=n.is_source_requested,v=n.isMainVideoOnSharePage,h=n.mouse_active,g=n.muted,y=n.needs_password,b=n.parent_location,k=n.playback_rate,E=n.password,w=n.paused,T=n.poster_url,S=n.request_current_time,N=n.request_enter_full_screen,_=n.request_leave_full_screen,O=n.request_mute,C=n.request_pause,P=n.request_play,M=n.request_playback_rate,I=n.request_unmute,V=n.request_volume,x=n.seeking,D=n.source_mime_type,A=n.source_url,j=n.theater_mode,R=n.video,F=n.viewer_needs_permission,U=n.volume,B=n.waiting,q=e.share_video,G=q.cta_enabled,W=q.iframe_visible,H=q.video_is_team_shared,z=e.user,Y=z.is_logged_in,$=z.is_logged_in_checked,K=z.has_gmail_account,Q=e.trimming,X=Q.current_trim_range,Z=Q.in_trim_mode,ee=Q.trim_ranges,ne=R.id,te=(R.video_properties||{}).screen_type===L.a,ie=Object(J.i)(R,e),re=!R.complete,ae=R.comments_enabled,oe=Z||t&&!R.current_user_is_owner,se=e.viewerInsights.isActive;return{autoplay:oe,controlsActive:r,ctaEnabled:G,ctaFlowActive:e.editor.cta_flow,commentsEnabled:ae,currentTime:i,currentTrimRange:X,duration:a,ended:o,flippedCamera:s,fromLinkExpand:c,fromPublicSharePage:u,fullScreen:l,hasGmailAccount:K,hasStarted:d,iframeVisible:W,inTrimMode:Z,isCameraRecording:te,isFetching:p,isInlineEmbedOnLoom:f,isLoggedIn:Y&&$,isMainVideoOnSharePage:v,mayBeUploading:re,mouseActive:h,muted:g,needsPassword:y,needsPermission:F,parentLocation:b,password:E,paused:w,playbackRate:k,posterUrl:T,requestCurrentTime:S,requestEnterFullScreen:N,requestLeaveFullScreen:_,requestMute:O,requestPause:C,requestPlay:P,requestPlaybackRate:M,requestUnmute:I,requestVolume:V,seeking:x,sourceMimeType:D,sourceRequested:m,sourceUrl:A,theaterMode:j,trimRanges:ee,videoId:ne,videoModel:R,videoName:R.name,videoIsTeamShared:H,volume:U,waiting:B,waitingForTrim:ie,isViewerInsightsActive:se}},function(e){return{requestVideoPlayerMute:function(){return e(Object(h.e)())},requestVideoPlayerUnmute:function(){return e(Object(h.j)())},requestVideoPlayerCurrentTime:function(n){return e(Object(h.b)(n))},requestVideoPlayerPause:function(){return e(Object(h.f)())},requestVideoPlayerPlay:function(){return e(Object(h.g)())},requestVideoPlayerEnterFullScreen:function(){return e(Object(h.c)())},requestVideoPlayerLeaveFullScreen:function(){return e(Object(h.d)())},requestVideoPlayerVolume:function(n){return e(Object(h.k)(n))},trackVideoWatchDurationCreator:function(n){return e(Object(A.g)(n))},trackVideoViewCreator:function(){return e(Object(A.f)())},updateVideoPlayerBufferedParts:function(n){return e(Object(h.q)(n))},updateVideoPlayerCurrentTime:function(n){return e(Object(h.s)(n))},updateVideoPlayerDimensionsCreator:function(n,t){return e(Object(A.j)(n,t))},updateVideoPlayerDurationCreator:function(n){return e(Object(A.k)(n))},updateVideoPlayerEnded:function(){return e(Object(h.y)())},updateVideoPlayerEnterFullScreen:function(){return e(Object(h.z)())},updateVideoPlayerLeaveFullScreen:function(){return e(Object(h.D)())},updateVideoPlayerMouseActive:function(){return e(Object(h.F)())},updateVideoPlayerMouseInactive:function(){return e(Object(h.G)())},updateVideoPlayerMute:function(){return e(Object(h.H)())},updateVideoPlayerNotWaiting:function(){return e(Object(h.J)())},updateVideoPlayerPasswordCreator:function(n){return e(Object(A.l)(n))},updateVideoPlayerPaused:function(){return e(Object(h.M)())},updateVideoPlayerPlay:function(){return e(Object(h.N)())},updateVideoPlayerPlaying:function(){return e(Object(h.P)())},updateVideoPlayerPlaybackRate:function(n){return e(Object(h.O)(n))},updateVideoPlayerSourceCreator:function(){return e(Object(A.m)())},updateVideoPlayerSourceMp4Creator:function(){return e(Object(A.n)())},updateVideoPlayerSourceRawCreator:function(){return e(Object(A.o)())},updateVideoPlayerUnmute:function(){return e(Object(h.V)())},updateVideoPlayerVolume:function(n){return e(Object(h.X)(n))},updateVideoPlayerWaiting:function(){return e(Object(h.Z)())},updateTheaterMode:function(n,t){return e(Object(h.o)(n,t))},updateVideoIframeVisibility:function(){return e(Object(V.q)())}}})(Vt),Dt=(t(1067),new Error("invalid trim operation")),Lt=function(e){function n(e){var t;return r()(this,n),t=o()(this,c()(n).call(this,e)),e.ownerId!==e.userId&&T.a.start(e.videoId,e.userId),t}return p()(n,e),l()(n,[{key:"render",value:function(){return m.a.createElement(xt,{stylesFromShareVideoParent:this.props.stylesFromShareVideoParent||{}})}}]),l()(n,[{key:"componentDidMount",value:function(){this.updatePlayerFromURLParams(),this.listenForSharePageEvents(),this.props.isMainVideoOnSharePage||(document.body.style.overflow="hidden",document.getElementById("container").style.overflow="hidden")}},{key:"updatePlayerFromURLParams",value:function(){var e=!k.isMobile&&("1"===Object(w.d)("autoplay")||"true"===Object(w.d)("autoplay")||"true"===Object(w.d)("auto_play")||"1"===Object(w.d)("auto_play"));this.props.updateVideoPlayerAutoplay(e),("1"===Object(w.d)("muted")||"true"===Object(w.d)("muted"))&&this.props.requestVideoPlayerVolume(.3);var n=Object(w.d)("t").match(/((\d+)m)?((\d+)s?)$/)||[0,0,0,0],t=60*Number(n[2]||0)+Number(n[4]||0);t>0&&this.props.requestVideoPlayerCurrentTime(t)}},{key:"listenForSharePageEvents",value:function(){var e=this;this.props.isMainVideoOnSharePage&&window.top.addEventListener("message",function(n){var t=n.data,i=void 0===t?{}:t;switch(i.type){case g.c:e.playVideoAtTimestamp(i.numSeconds);break;case g.d:e.props.requestVideoPlayerCurrentTime(i.numSeconds);break;case g.v:e.props.updateVideoPlayerFlippedCamera(i.flipped_camera);break;case g.w:e.handleTrimAction(i)}},!1)}},{key:"togglePlay",value:function(){this.props.paused?this.props.requestVideoPlayerPlay():this.props.requestVideoPlayerPause()}},{key:"playVideoAtTimestamp",value:function(e){this.props.requestVideoPlayerCurrentTime(e),this.props.requestVideoPlayerPlay()}},{key:"handleTrimAction",value:function(e){var n=e.id,t=e.operation,i=e.trimBound,r=e.trimRange,a=e.trimRanges,o=e.updatedVideo;switch(t){case y.a:return this.props.addTrimRangeCreator(r);case y.f:return this.props.removeTrimRangeCreator(n);case y.b:return this.props.enterTrimModeCreator(a);case y.c:return this.props.leaveTrimModeCreator(o);case y.e:return this.props.redoTrimOperationCreator();case y.j:return this.props.undoTrimOperationCreator();case y.k:return this.props.updateCurrentTrimRangeCreator(r);case y.l:return this.props.updateSelectedTrimBoundCreator(i);case y.m:return this.props.updateSelectedTrimRangeCreator(r);case y.n:return this.props.updateTrimRangeCreator(r);default:E.b(Dt,"bad trim operation",{operation:t})}}}]),n}(f.Component);n.a=Object(v.connect)(function(e){var n=e.video_player,t=n.paused,i=n.isMainVideoOnSharePage,r=n.video,a=(e.user||{}).current.id;return{paused:t,isMainVideoOnSharePage:i,videoId:r.id,ownerId:r.owner_id,userId:a}},function(e){return{addTrimRangeCreator:function(n){return e(Object(b.a)(n,!1,!1))},enterTrimModeCreator:function(n){return e(Object(b.b)(n,!1))},leaveTrimModeCreator:function(n){return e(Object(b.c)(n,!1))},redoTrimOperationCreator:function(){return e(Object(b.e)(!1))},removeTrimRangeCreator:function(n){return e(Object(b.f)(n,!1,!1))},requestVideoPlayerCurrentTime:function(n){return e(Object(h.b)(n))},requestVideoPlayerPause:function(){return e(Object(h.f)())},requestVideoPlayerPlay:function(){return e(Object(h.g)())},requestVideoPlayerVolume:function(n){return e(Object(h.k)(n))},undoTrimOperationCreator:function(){return e(Object(b.g)(!1))},updateCurrentTrimRangeCreator:function(n){return e(Object(b.h)(n,!1))},updateSelectedTrimBoundCreator:function(n){return e(Object(b.i)(n,!1))},updateSelectedTrimRangeCreator:function(n){return e(Object(b.j)(n,!1))},updateTrimRangeCreator:function(n){return e(Object(b.k)(n,!1,!1))},updateVideoPlayerAutoplay:function(n){return e(Object(h.p)(n))},updateVideoPlayerFlippedCamera:function(n){return e(Object(h.A)(n))}}})(Lt)},781:function(e,n,t){},782:function(e,n,t){},797:function(e,n,t){e.exports=t.p+"img/permissions/chrome-blocked-permissions-3c5a91ceec2d2799a1a8e28001b864c1.gif"},798:function(e,n,t){e.exports=t.p+"img/permissions/chrome-permissions-full-5845a726b9a6b6a4b9a1e8e1184e4fcf.gif"},799:function(e,n,t){e.exports=t.p+"img/permissions/edge-blocked-permissions-6656f2a5c2e91123db76b28ecbb30a6c.gif"},800:function(e,n,t){e.exports=t.p+"img/permissions/edge-permissions-full-1a646ab1e4765cc1f462542334572ed9.gif"},801:function(e,n,t){e.exports=t.p+"img/permissions/firefox-blocked-permissions-42cccce92359d3fef8b9976be004136b.gif"},802:function(e,n,t){e.exports=t.p+"img/permissions/firefox-permissions-full-4cd500c25a50eb9cbd12b2d4c1ee8697.gif"},803:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartNewRecordingSession"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"flippedCamera"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoProperties"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InputVideoProperties"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startNewRecordingSession"},arguments:[{kind:"Argument",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"Argument",name:{kind:"Name",value:"flippedCamera"},value:{kind:"Variable",name:{kind:"Name",value:"flippedCamera"}}},{kind:"Argument",name:{kind:"Name",value:"videoProperties"},value:{kind:"Variable",name:{kind:"Name",value:"videoProperties"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:263}};t.loc.source={body:"mutation StartNewRecordingSession(\n  $title: String!\n  $flippedCamera: Boolean!\n  $videoProperties: InputVideoProperties!\n) {\n  startNewRecordingSession(\n    title: $title\n    flippedCamera: $flippedCamera\n    videoProperties: $videoProperties\n  ) {\n    id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}!function(){t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),i[e.name.value]=n}})}(),e.exports=t,e.exports.StartNewRecordingSession=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,o=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(t,"StartNewRecordingSession")},987:function(e,n,t){},989:function(e,n,t){},990:function(e,n,t){},991:function(e,n,t){},992:function(e,n,t){},993:function(e,n,t){},994:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=e.prefixMap,t=e.plugins;return function e(s){for(var c in s){var u=s[c];if((0,o.default)(u))s[c]=e(u);else if(Array.isArray(u)){for(var l=[],d=0,p=u.length;d<p;++d){var f=(0,r.default)(t,c,u[d],s,n);(0,a.default)(l,f||u[d])}l.length>0&&(s[c]=l)}else{var m=(0,r.default)(t,c,u,s,n);m&&(s[c]=m),s=(0,i.default)(n,c,s)}}return s}};var i=s(t(995)),r=s(t(996)),a=s(t(997)),o=s(t(998));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=n.default},995:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n,t){if(e.hasOwnProperty(n)){for(var r={},a=e[n],o=(0,i.default)(n),s=Object.keys(t),c=0;c<s.length;c++){var u=s[c];if(u===n)for(var l=0;l<a.length;l++)r[a[l]+o]=t[n];r[u]=t[u]}return r}return t};var i=function(e){return e&&e.__esModule?e:{default:e}}(t(609));e.exports=n.default},996:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n,t,i,r){for(var a=0,o=e.length;a<o;++a){var s=e[a](n,t,i,r);if(s)return s}},e.exports=n.default},997:function(e,n,t){"use strict";function i(e,n){-1===e.indexOf(n)&&e.push(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if(Array.isArray(n))for(var t=0,r=n.length;t<r;++t)i(e,n[t]);else i(e,n)},e.exports=n.default},998:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e instanceof Object&&!Array.isArray(e)},e.exports=n.default},999:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=["Webkit"],r=["ms"],a=["Webkit","ms"];n.default={plugins:[],prefixMap:{appearance:["Webkit","Moz"],textEmphasisPosition:i,textEmphasis:i,textEmphasisStyle:i,textEmphasisColor:i,boxDecorationBreak:i,maskImage:i,maskMode:i,maskRepeat:i,maskPosition:i,maskClip:i,maskOrigin:i,maskSize:i,maskComposite:i,mask:i,maskBorderSource:i,maskBorderMode:i,maskBorderSlice:i,maskBorderWidth:i,maskBorderOutset:i,maskBorderRepeat:i,maskBorder:i,maskType:i,textDecorationStyle:i,textDecorationSkip:i,textDecorationLine:i,textDecorationColor:i,userSelect:["Webkit","Moz","ms"],backdropFilter:i,fontKerning:i,scrollSnapType:a,scrollSnapPointsX:a,scrollSnapPointsY:a,scrollSnapDestination:a,scrollSnapCoordinate:a,clipPath:i,shapeImageThreshold:i,shapeImageMargin:i,shapeImageOutside:i,filter:i,hyphens:a,flowInto:a,flowFrom:a,breakBefore:a,breakAfter:a,breakInside:a,regionFragment:a,writingMode:a,textOrientation:i,tabSize:["Moz"],fontFeatureSettings:i,columnCount:i,columnFill:i,columnGap:i,columnRule:i,columnRuleColor:i,columnRuleStyle:i,columnRuleWidth:i,columns:i,columnSpan:i,columnWidth:i,wrapFlow:r,wrapThrough:r,wrapMargin:r,gridTemplateColumns:r,gridTemplateRows:r,gridTemplateAreas:r,gridTemplate:r,gridAutoColumns:r,gridAutoRows:r,gridAutoFlow:r,grid:r,gridRowStart:r,gridColumnStart:r,gridRowEnd:r,gridRow:r,gridColumn:r,gridColumnEnd:r,gridColumnGap:r,gridRowGap:r,gridArea:r,gridGap:r,textSizeAdjust:a}},e.exports=n.default}});
//# sourceMappingURL=embed-video-fc8f228e2c8d68df9c61ffb6a017bd16.js.map